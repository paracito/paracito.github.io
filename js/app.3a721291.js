(function(t){function e(e){for(var i,s,a=e[0],l=e[1],_=e[2],u=0,h=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(h.length)h.shift()();return o.push.apply(o,_||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],i=!0,a=1;a<r.length;a++){var l=r[a];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var i={},n={app:0},o=[];function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=i,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var _=0;_<a.length;_++)e(a[_]);var c=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0124":function(t,e,r){"use strict";r("adff")},"0586":function(t,e,r){"use strict";r("eed4")},"0c0f":function(t,e,r){"use strict";r("10c9")},"10c9":function(t,e,r){},"291a":function(t,e,r){},"41b9":function(t,e,r){},"4e88":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("7a23"),n={key:0};function o(t,e,r,o,s,a){var l=Object(i["resolveComponent"])("Header"),_=Object(i["resolveComponent"])("Menu"),c=Object(i["resolveComponent"])("el-col"),u=Object(i["resolveComponent"])("router-view"),h=Object(i["resolveComponent"])("el-row"),f=Object(i["resolveComponent"])("Login");return t.state.login_flag?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",n,[Object(i["createVNode"])(l),Object(i["createVNode"])(h,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{span:4},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(_)]})),_:1}),Object(i["createVNode"])(c,{span:20,style:{padding:"20px"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u)]})),_:1})]})),_:1})])):(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:1}))}r("b0c0");var s=r("cf05"),a=r.n(s),l=r("b034"),_=r.n(l),c=function(t){return Object(i["pushScopeId"])("data-v-abbbe13a"),t=t(),Object(i["popScopeId"])(),t},u={class:"header"},h=c((function(){return Object(i["createElementVNode"])("div",{style:{display:"flex","align-items":"center"}},[Object(i["createElementVNode"])("img",{src:a.a,alt:"",style:{height:"60px"}}),Object(i["createElementVNode"])("span",null,"咔哒咔哒打打卡卡")],-1)})),f={class:"user_name"},p=Object(i["createTextVNode"])(" + New Tag "),$={style:{display:"flex","justify-content":"center"}},d=Object(i["createTextVNode"])("提交");function m(t,e,r,n,o,s){var a=Object(i["resolveComponent"])("el-col"),l=Object(i["resolveComponent"])("el-avatar"),c=Object(i["resolveComponent"])("el-row"),m=Object(i["resolveComponent"])("el-input"),g=Object(i["resolveComponent"])("el-form-item"),y=Object(i["resolveComponent"])("el-tag"),v=Object(i["resolveComponent"])("el-button"),b=Object(i["resolveComponent"])("el-form"),T=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",u,[Object(i["createVNode"])(c,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{span:12},{default:Object(i["withCtx"])((function(){return[h]})),_:1}),Object(i["createVNode"])(a,{span:3,offset:8},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",f,[Object(i["createVNode"])(l,{style:{cursor:"pointer"},size:40,onClick:t.showPersonalInfo,src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,8,["onClick"]),Object(i["createElementVNode"])("span",{style:{cursor:"pointer","margin-left":"10px"},onClick:e[0]||(e[0]=function(){return t.showPersonalInfo&&t.showPersonalInfo.apply(t,arguments)})},Object(i["toDisplayString"])(t.state.user_info.name),1)])]})),_:1}),Object(i["createVNode"])(a,{span:1},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("img",{style:{height:"20px","margin-top":"20px",cursor:"pointer"},src:_.a,onClick:e[1]||(e[1]=function(){return t.logOut&&t.logOut.apply(t,arguments)}),alt:""})]})),_:1})]})),_:1}),Object(i["createVNode"])(T,{modelValue:t.state.personal_info_flag,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.state.personal_info_flag=e}),title:"个人信息",width:"50%","before-close":t.handleClose},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(b,{class:"form",ref:"form"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(g,{label:"账号"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(m,{modelValue:t.state.user_info.account,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.state.user_info.account=e}),disabled:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(g,{label:"昵称"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(m,{modelValue:t.state.user_info.name,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.state.user_info.name=e}),disabled:t.state.edit_flag},null,8,["modelValue","disabled"])]})),_:1}),Object(i["createVNode"])(g,{label:"标签"},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.state.user_info.label_list,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(y,{style:{"margin-right":"10px"},closable:t.state.edit_flag,onClose:function(r){return t.deleteLabel(e)},key:e},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]})),_:2},1032,["closable","onClose"])})),128)),t.state.input_visible?(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:0,ref:"InputRef",modelValue:t.state.new_tag,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.state.new_tag=e}),class:"w-50 m-2",size:"small",autofocus:t.state.input_visible,onKeyup:Object(i["withKeys"])(t.addLabel,["enter"]),onBlur:t.addLabel,style:{width:"80px"}},null,8,["modelValue","autofocus","onKeyup","onBlur"])):(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:1,class:"button-new-tag ml-1",size:"small",onClick:e[5]||(e[5]=function(){t.state.input_visible=!0})},{default:Object(i["withCtx"])((function(){return[p]})),_:1}))]})),_:1}),Object(i["createVNode"])(g,null,{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",$,[Object(i["createVNode"])(v,{class:"clockin_btn",type:"primary",onClick:t.submitData},{default:Object(i["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]})),_:1})]})),_:1},512)]})),_:1},8,["modelValue","before-close"])])}r("a434"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("466d");function g(){var t=new Date,e={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()},r=e.month>10?e.month:"0"+e.month,i=e.date>10?e.date:"0"+e.date,n=e.year+"-"+r+"-"+i;return n}function y(t,e,r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3);var n="expires="+i.toGMTString();document.cookie=t+"="+e+"; "+n}function v(t){var e=new RegExp("(^| )"+t+"=([^';]*)(;|$)"),r=document.cookie.match(e);return r?r[2]:null}r("7db0"),r("d3b7");var b=r("c72e");b.Query,b.User;function T(t){var e=t.account,r=new b.Query("user_list");r.equalTo("account",e);var i=r.find();if(i==[])return i;var n=b.Object.extend("user_list"),o=new n;return o.set("account",t.account),o.set("name",t.name),o.set("password",t.password),o.save()}function P(t){var e=new b.Query("user_list");e.equalTo("account",t);var r=e.find();return r}function S(t){var e=new b.Query("user_list");return e.equalTo("account",t.account),e.find().then((function(e){e[0].set("name",t.name),e[0].set("label_list",t.label_list),b.Object.saveAll(e)})).catch((function(t){console.log(t)})),!0}function O(t){var e=new b.Query("record_list");e.equalTo("account",t),e.descending("id");var r=e.find();return r}function w(t,e){var r=new b.Query("record_list");r.equalTo("account",t),r.equalTo("date",e);var i=r.find();return i}function L(t){var e=b.Object.extend("record_list"),r=new e;return r.set("title",t.title),r.set("date",t.date),r.set("account",t.account),r.set("label_list",t.label),r.set("cost_time",t.time),r.set("score",t.score),r.set("content",t.content),r.save()}function x(t){var e=new b.Query("record_list");return e.equalTo("account",t.account),e.equalTo("date",t.date),e.find().then((function(e){e[0].set("title",t.title),e[0].set("date",t.date),e[0].set("account",t.account),e[0].set("label_list",t.label),e[0].set("cost_time",t.time),e[0].set("score",t.score),e[0].set("content",t.content),b.Object.saveAll(e)})).catch((function(t){console.log(t)})),!0}b.init({appId:"XDcXxMdiSuYWAdlNC8s5K9XE-gzGzoHsz",appKey:"SDqhmTgCSFNVzq0e9LETSGHF",serverURL:"https://xdcxxmdi.lc-cn-n1-shared.com"});var E=r("3ef4"),M=r("6c02"),A=Object(i["defineComponent"])({components:{},setup:function(){var t=Object(i["getCurrentInstance"])(),e=(t.proxy,Object(M["c"])(),Object(M["d"])(),Object(i["reactive"])({user_info:{account:"",name:"",label_list:[]},edit_flag:!0,input_visible:!1,new_tag:"",personal_info_flag:!1}));function r(){e.personal_info_flag=!0}function n(){y("account","",-1),E["a"].success("已注销登录！"),window.location.reload()}function o(){e.new_tag&&e.user_info.label_list.push(e.new_tag),e.input_visible=!1,e.new_tag=""}function s(t){e.user_info.label_list.splice(e.user_info.label_list.indexOf(t),1)}function a(){S(e.user_info),e.personal_info_flag=!1}return Object(i["onBeforeMount"])((function(){e.user_info.account=v("account"),e.user_info.name=v("name"),P(e.user_info.account).then((function(t){console.log(t[0].attributes),e.user_info.label_list=t[0].attributes.label_list}))})),{state:e,showPersonalInfo:r,logOut:n,addLabel:o,deleteLabel:s,submitData:a}}}),I=(r("0124"),r("6b0d")),D=r.n(I);const C=D()(A,[["render",m],["__scopeId","data-v-abbbe13a"]]);var N=C,R=(r("9911"),{id:"wrap"});function F(t,e,r,n,o,s){var a=Object(i["resolveComponent"])("icon-menu"),l=Object(i["resolveComponent"])("el-icon"),_=Object(i["resolveComponent"])("histogram"),c=Object(i["resolveComponent"])("el-menu-item"),u=Object(i["resolveComponent"])("router-link"),h=Object(i["resolveComponent"])("el-menu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,[Object(i["createVNode"])(h,{"default-active":"0",class:"el-menu-vertical-demo"},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.menu_list,(function(t){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{to:t.link,key:t.index},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{index:t.index},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1}),Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(_)]})),_:1}),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(t.name),1)]})),_:2},1032,["index"])]})),_:2},1032,["to"])})),128))]})),_:1})])}var j=Object(i["defineComponent"])({setup:function(){var t=Object(i["getCurrentInstance"])(),e=t.proxy,r=(Object(M["c"])(),[{name:"首页",index:1,icon:"",link:"/"},{name:"列表",index:2,icon:"",link:"/recordlist"},{name:"打卡",index:3,icon:"",link:"/clockin"}]),n=Object(i["reactive"])({user:""});function o(t){}return Object(i["onMounted"])((function(){var t=document.getElementById("wrap"),r=e.globalVariables.srceenHeight;t.style.height=r-60+"px"})),{menu_list:r,state:n,linkTo:o}}});r("a7fc");const B=D()(j,[["render",F],["__scopeId","data-v-383166c1"]]);var k=B,V=Object(i["createTextVNode"])("登录"),U=Object(i["createTextVNode"])("注册");function G(t,e,r,n,o,s){var a=Object(i["resolveComponent"])("Live2d"),l=Object(i["resolveComponent"])("el-input"),_=Object(i["resolveComponent"])("el-form-item"),c=Object(i["resolveComponent"])("el-button"),u=Object(i["resolveComponent"])("el-form"),h=Object(i["resolveComponent"])("el-card"),f=Object(i["resolveComponent"])("el-col"),p=Object(i["resolveComponent"])("el-row");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(a),Object(i["createVNode"])(p,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(f,{span:8,offset:8},{default:Object(i["withCtx"])((function(){return[t.state.login_register?(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:0,class:"card_wrap"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,{ref:"form"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(_,{label:"账号"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{modelValue:t.state.login_form.account,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.state.login_form.account=e}),placeholder:"请输入手机号"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(_,{label:"密码"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{modelValue:t.state.login_form.password,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.state.login_form.password=e}),"show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(_,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{class:"btn",type:"primary",onClick:t.login},{default:Object(i["withCtx"])((function(){return[V]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512),Object(i["createElementVNode"])("span",{onClick:e[2]||(e[2]=function(){t.state.login_register=!t.state.login_register}),class:"toggle"},"去注册 >")]})),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:1,class:"card_wrap"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,{ref:"form"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(_,{label:"账号"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{modelValue:t.state.register_form.account,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.state.register_form.account=e}),placeholder:"请输入手机号"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(_,{label:"密码"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{modelValue:t.state.register_form.password,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.state.register_form.password=e}),"show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(_,{label:"昵称"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{modelValue:t.state.register_form.name,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.state.register_form.name=e}),placeholder:"请输入昵称"},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(_,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{class:"btn",type:"primary",onClick:t.userRegister},{default:Object(i["withCtx"])((function(){return[U]})),_:1},8,["onClick"])]})),_:1})]})),_:1},512),Object(i["createElementVNode"])("span",{onClick:e[6]||(e[6]=function(){t.state.login_register=!t.state.login_register}),class:"toggle"},"去登录 >")]})),_:1}))]})),_:1})]})),_:1})],64)}function Y(t,e,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div")}var X=r("53ca"),z=(r("1276"),r("a15b"),r("fb6a"),r("159b"),r("99af"),r("ddb0"),r("b64b"),r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("5319"),r("caad"),r("2532"),r("3410"),r("a630"),function(t){var e=window.webpackJsonpL2Dwidget;window.webpackJsonpL2Dwidget=function(r,n,o){for(var s,a,l=0,_=[];l<r.length;l++)a=r[l],i[a]&&_.push(i[a][0]),i[a]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);for(e&&e(r,n,o);_.length;)_.shift()()};var r={},i={1:0};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.e=function(t){var e=i[t];if(0===e)return new Promise((function(t){t()}));if(e)return e[2];var r=new Promise((function(r,n){e=i[t]=[r,n]}));e[2]=r;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,n.nc&&s.setAttribute("nonce",n.nc),s.src=n.p+"L2Dwidget."+t+".min.js";var a=setTimeout(l,12e4);function l(){s.onerror=s.onload=null,clearTimeout(a);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}return s.onerror=s.onload=l,o.appendChild(s),r},n.m=t,n.c=r,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n.oe=function(t){throw console.error(t),t},n(n.s=41)}([function(t,e,r){var i=r(16)("wks"),n=r(18),o=r(1).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:n)("Symbol."+t))}).store=i},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(t,e,r){var i=r(6);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){var i=r(10),n=r(29);t.exports=r(7)?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var i=r(1),n=r(4),o=r(11),s=r(18)("src"),a=r(46),l=(""+a).split("toString");r(2).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,r,a){var _="function"==typeof r;_&&(o(r,"name")||n(r,"name",e)),t[e]!==r&&(_&&(o(r,s)||n(r,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=r:a?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e){t.exports=function(t){return"object"==Object(X["a"])(t)?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports={}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var i=r(3),n=r(44),o=r(45),s=Object.defineProperty;e.f=r(7)?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var i=r(1),n=r(2),o=r(4),s=r(5),a=r(13),l=function t(e,r,l){var _,c,u,h,f=e&t.F,p=e&t.G,$=e&t.S,d=e&t.P,m=e&t.B,g=p?i:$?i[r]||(i[r]={}):(i[r]||{}).prototype,y=p?n:n[r]||(n[r]={}),v=y.prototype||(y.prototype={});for(_ in p&&(l=r),l)u=((c=!f&&g&&void 0!==g[_])?g:l)[_],h=m&&c?a(u,i):d&&"function"==typeof u?a(Function.call,u):u,g&&s(g,_,u,e&t.U),y[_]!=u&&o(y,_,h),d&&v[_]!=u&&(v[_]=u)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,r){var i=r(14);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var i=r(9),n=r(0)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,r){var i=r(2),n=r(1),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r(17)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e,r){var i=r(6),n=r(1).document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var i=r(53),n=r(21);t.exports=function(t){return i(n(t))}},function(t,e,r){var i=r(16)("keys"),n=r(18);t.exports=function(t){return i[t]||(i[t]=n(t))}},function(t,e,r){var i=r(10).f,n=r(11),o=r(0)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,r){var i=r(14);t.exports.f=function(t){return new function(t){var e,r;this.promise=new t((function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i})),this.resolve=i(e),this.reject=i(r)}(t)}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.configApplyer=void 0;var i=o(r(77)),n=o(r(78));function o(t){return t&&t.__esModule?t:{default:t}}var s={};e.configApplyer=function(t){(0,n.default)(s,t,i.default)},e.config=s},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.L2Dwidget=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=s(r(39)),o=r(26);function s(t){return t&&t.__esModule?t:{default:t}}s(r(40));var a=void 0,l=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventHandlers={},this.config=o.config}return i(t,[{key:"on",value:function(t,e){if("function"!=typeof e)throw new TypeError("Event handler is not a function.");return this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e),this}},{key:"emit",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(t){"function"==typeof t&&t.apply(void 0,r)})),this.eventHandlers["*"]&&this.eventHandlers["*"].forEach((function(e){"function"==typeof e&&e.apply(void 0,[t].concat(r))})),this}},{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.configApplyer)(e),this.emit("config",this.config),!o.config.mobile.show&&n.default.mobile()||r.e(0).then(r.bind(null,79)).then((function(e){(a=e).theRealInit(t)})).catch((function(t){console.error(t)}))}},{key:"captureFrame",value:function(t){return a.captureFrame(t)}},{key:"downloadFrame",value:function(){this.captureFrame((function(t){var e=document.createElement("a");document.body.appendChild(e),e.setAttribute("type","hidden"),e.href=t,e.download="live2d.png",e.click()}))}}]),t}());e.L2Dwidget=l},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var i=r(17),n=r(12),o=r(5),s=r(4),a=r(8),l=r(49),_=r(24),c=r(56),u=r(0)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,r,p,$,d,m){l(r,e,p);var g,y,v,b=function(t){if(!h&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},T=e+" Iterator",P="values"==$,S=!1,O=t.prototype,w=O[u]||O["@@iterator"]||$&&O[$],L=w||b($),x=$?P?b("entries"):L:void 0,E="Array"==e&&O.entries||w;if(E&&(v=c(E.call(new t)))!==Object.prototype&&v.next&&(_(v,T,!0),i||"function"==typeof v[u]||s(v,u,f)),P&&w&&"values"!==w.name&&(S=!0,L=function(){return w.call(this)}),i&&!m||!h&&!S&&O[u]||s(O,u,L),a[e]=L,a[T]=f,$)if(g={values:P?L:b("values"),keys:d?L:b("keys"),entries:x},m)for(y in g)y in O||o(O,y,g[y]);else n(n.P+n.F*(h||S),e,g);return g}},function(t,e,r){var i=r(52),n=r(33);t.exports=Object.keys||function(t){return i(t,n)}},function(t,e,r){var i=r(20),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var i=r(1).document;t.exports=i&&i.documentElement},function(t,e,r){var i=r(3),n=r(14),o=r(0)("species");t.exports=function(t,e){var r,s=i(t).constructor;return void 0===s||void 0==(r=i(s)[o])?e:n(r)}},function(t,e,r){var i,n,o,s=r(13),a=r(68),l=r(34),_=r(19),c=r(1),u=c.process,h=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,$=c.Dispatch,d=0,m={},g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){g.call(t.data)};h&&f||(h=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++d]=function(){a("function"==typeof t?t:Function(t),e)},i(d),d},f=function(t){delete m[t]},"process"==r(9)(u)?i=function(t){u.nextTick(s(g,t,1))}:$&&$.now?i=function(t){$.now(s(g,t,1))}:p?(o=(n=new p).port2,n.port1.onmessage=y,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",y,!1)):i="onreadystatechange"in _("script")?function(t){l.appendChild(_("script")).onreadystatechange=function(){l.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var i=r(3),n=r(6),o=r(25);t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==Object(X["a"])(Symbol.iterator)?function(t){return Object(X["a"])(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(X["a"])(t)},n=window.device,o={},s=[];window.device=o;var a=window.document.documentElement,l=window.navigator.userAgent.toLowerCase(),_=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function c(t){return-1!==l.indexOf(t)}function u(t){return a.className.match(new RegExp(t,"i"))}function h(t){var e=null;u(t)||(e=a.className.replace(/^\s+|\s+$/g,""),a.className=e+" "+t)}function f(t){u(t)&&(a.className=a.className.replace(" "+t,""))}function p(){o.landscape()?(f("portrait"),h("landscape"),$("landscape")):(f("landscape"),h("portrait"),$("portrait")),g()}function $(t){for(var e in s)s[e](t)}o.macos=function(){return c("mac")},o.ios=function(){return o.iphone()||o.ipod()||o.ipad()},o.iphone=function(){return!o.windows()&&c("iphone")},o.ipod=function(){return c("ipod")},o.ipad=function(){return c("ipad")},o.android=function(){return!o.windows()&&c("android")},o.androidPhone=function(){return o.android()&&c("mobile")},o.androidTablet=function(){return o.android()&&!c("mobile")},o.blackberry=function(){return c("blackberry")||c("bb10")||c("rim")},o.blackberryPhone=function(){return o.blackberry()&&!c("tablet")},o.blackberryTablet=function(){return o.blackberry()&&c("tablet")},o.windows=function(){return c("windows")},o.windowsPhone=function(){return o.windows()&&c("phone")},o.windowsTablet=function(){return o.windows()&&c("touch")&&!o.windowsPhone()},o.fxos=function(){return(c("(mobile")||c("(tablet"))&&c(" rv:")},o.fxosPhone=function(){return o.fxos()&&c("mobile")},o.fxosTablet=function(){return o.fxos()&&c("tablet")},o.meego=function(){return c("meego")},o.cordova=function(){return window.cordova&&"file:"===location.protocol},o.nodeWebkit=function(){return"object"===i(window.process)},o.mobile=function(){return o.androidPhone()||o.iphone()||o.ipod()||o.windowsPhone()||o.blackberryPhone()||o.fxosPhone()||o.meego()},o.tablet=function(){return o.ipad()||o.androidTablet()||o.blackberryTablet()||o.windowsTablet()||o.fxosTablet()},o.desktop=function(){return!o.tablet()&&!o.mobile()},o.television=function(){for(var t=0;t<_.length;){if(c(_[t]))return!0;t++}return!1},o.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?screen.orientation.type.includes("portrait"):window.innerHeight/window.innerWidth>1},o.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?screen.orientation.type.includes("landscape"):window.innerHeight/window.innerWidth<1},o.noConflict=function(){return window.device=n,this},o.ios()?o.ipad()?h("ios ipad tablet"):o.iphone()?h("ios iphone mobile"):o.ipod()&&h("ios ipod mobile"):o.macos()?h("macos desktop"):o.android()?o.androidTablet()?h("android tablet"):h("android mobile"):o.blackberry()?o.blackberryTablet()?h("blackberry tablet"):h("blackberry mobile"):o.windows()?o.windowsTablet()?h("windows tablet"):o.windowsPhone()?h("windows mobile"):h("windows desktop"):o.fxos()?o.fxosTablet()?h("fxos tablet"):h("fxos mobile"):o.meego()?h("meego mobile"):o.nodeWebkit()?h("node-webkit"):o.television()?h("television"):o.desktop()&&h("desktop"),o.cordova()&&h("cordova"),o.onChangeOrientation=function(t){"function"==typeof t&&s.push(t)};var d="resize";function m(t){for(var e=0;e<t.length;e++)if(o[t[e]]())return t[e];return"unknown"}function g(){o.orientation=m(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(d="orientationchange"),window.addEventListener?window.addEventListener(d,p,!1):window.attachEvent?window.attachEvent(d,p):window[d]=p,p(),o.type=m(["mobile","tablet","desktop"]),o.os=m(["ios","iphone","ipad","ipod","android","blackberry","windows","fxos","meego","television"]),g(),e.default=o},function(t,e,r){var i=r(26),n=r(27);document.head.innerHTML+="\n<style>\n  .live2d-widget-dialog-container {\n    width: 300px;\n    height: 120px;\n    position: absolute;\n    bottom: 65%;\n    right: 0px;\n    transform-origin: right;\n    padding: 12px;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n  }\n  .live2d-widget-dialog {\n    width: 100%;\n    height: 100%;\n    color: #917159;\n    font-size: 16px;\n    padding: 12px;\n    border: 2px solid rgb(236, 203, 180);\n    background: rgba(236, 203, 180, 0.14);\n    box-sizing: border-box;\n    border-radius: 10px;\n    transform: rotate(-2deg);\n    opacity: 0;\n    transition: 200ms opacity;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 6px, rgba(0, 0, 0, 0.12) 0px 1px 4px;\n    animation: live2d-widget-dialog-tingle 4s ease-in-out 0s infinite alternate;\n  }\n  @keyframes live2d-widget-dialog-tingle {\n    0% { transform: translate(-1px, 1.5px) rotate(-2deg); }\n    100% { transform: translate(1px, -1.5px) rotate(2deg); }\n  }\n</style>\n";var o=void 0,s=void 0,a=void 0;function l(){s.style.opacity=1}function _(){s.style.opacity=0}function c(t){l(),s.innerText=t,clearTimeout(a),a=setTimeout((function(){_()}),5e3)}function u(){var t=new XMLHttpRequest;t.open("get","https://v1.hitokoto.cn"),t.setRequestHeader("Cache-Control","no-cache"),t.onreadystatechange=function(){4===t.readyState&&(c(JSON.parse(t.responseText).hitokoto),setTimeout(u,1e4))},t.send()}t.exports={createDialogElement:function(t){(o=document.createElement("div")).className="live2d-widget-dialog-container",o.style.transform="scale("+i.config.display.width/250+")",(s=document.createElement("div")).className="live2d-widget-dialog",o.appendChild(s),t.appendChild(o),n.L2Dwidget.emit("create-dialog",o),i.config.dialog.hitokoto&&u()},displayDialog:l,hiddenDialog:_,alertText:c,showHitokotoLoop:u}},function(t,e,r){r(42),r(76),t.exports=r(27)},function(t,e,r){r(43),r(47),r(58),r(62),r(74),r(75),t.exports=r(2).Promise},function(t,e,r){var i=r(15),n={};n[r(0)("toStringTag")]="z",n+""!="[object z]"&&r(5)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,r){t.exports=!r(7)&&!r(28)((function(){return 7!=Object.defineProperty(r(19)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var i=r(6);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){t.exports=r(16)("native-function-to-string",Function.toString)},function(t,e,r){var i=r(48)(!0);r(30)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e,r){var i=r(20),n=r(21);t.exports=function(t){return function(e,r){var o,s,a=String(n(e)),l=i(r),_=a.length;return l<0||l>=_?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===_||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(t,e,r){var i=r(50),n=r(29),o=r(24),s={};r(4)(s,r(0)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=i(s,{next:n(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var i=r(3),n=r(51),o=r(33),s=r(23)("IE_PROTO"),a=function(){},l=function(){var t,e=r(19)("iframe"),i=o.length;for(e.style.display="none",r(34).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=i(t),r=new a,a.prototype=null,r[s]=t):r=l(),void 0===e?r:n(r,e)}},function(t,e,r){var i=r(10),n=r(3),o=r(31);t.exports=r(7)?Object.defineProperties:function(t,e){n(t);for(var r,s=o(e),a=s.length,l=0;a>l;)i.f(t,r=s[l++],e[r]);return t}},function(t,e,r){var i=r(11),n=r(22),o=r(54)(!1),s=r(23)("IE_PROTO");t.exports=function(t,e){var r,a=n(t),l=0,_=[];for(r in a)r!=s&&i(a,r)&&_.push(r);for(;e.length>l;)i(a,r=e[l++])&&(~o(_,r)||_.push(r));return _}},function(t,e,r){var i=r(9);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,r){var i=r(22),n=r(32),o=r(55);t.exports=function(t){return function(e,r,s){var a,l=i(e),_=n(l.length),c=o(s,_);if(t&&r!=r){for(;_>c;)if((a=l[c++])!=a)return!0}else for(;_>c;c++)if((t||c in l)&&l[c]===r)return t||c||0;return!t&&-1}}},function(t,e,r){var i=r(20),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},function(t,e,r){var i=r(11),n=r(57),o=r(23)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,r){var i=r(21);t.exports=function(t){return Object(i(t))}},function(t,e,r){for(var i=r(59),n=r(31),o=r(5),s=r(1),a=r(4),l=r(8),_=r(0),c=_("iterator"),u=_("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(f),$=0;$<p.length;$++){var d,m=p[$],g=f[m],y=s[m],v=y&&y.prototype;if(v&&(v[c]||a(v,c,h),v[u]||a(v,u,m),l[m]=h,g))for(d in i)v[d]||o(v,d,i[d],!0)}},function(t,e,r){var i=r(60),n=r(61),o=r(8),s=r(22);t.exports=r(30)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,r){var i=r(0)("unscopables"),n=Array.prototype;void 0==n[i]&&r(4)(n,i,{}),t.exports=function(t){n[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var i,n,o,s,a=r(17),l=r(1),_=r(13),c=r(15),u=r(12),h=r(6),f=r(14),p=r(63),$=r(64),d=r(35),m=r(36).set,g=r(69)(),y=r(25),v=r(37),b=r(70),T=r(38),P=l.TypeError,S=l.process,O=S&&S.versions,w=O&&O.v8||"",L=l.Promise,x="process"==c(S),E=function(){},M=n=y.f,A=!!function(){try{var t=L.resolve(1),e=(t.constructor={})[r(0)("species")]=function(t){t(E,E)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==w.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var r=t._c;g((function(){for(var i=t._v,n=1==t._s,o=0,s=function(e){var r,o,s,a=n?e.ok:e.fail,l=e.resolve,_=e.reject,c=e.domain;try{a?(n||(2==t._h&&R(t),t._h=1),!0===a?r=i:(c&&c.enter(),r=a(i),c&&(c.exit(),s=!0)),r===e.promise?_(P("Promise-chain cycle")):(o=I(r))?o.call(r,l,_):l(r)):_(i)}catch(t){c&&!s&&c.exit(),_(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&C(t)}))}},C=function(t){m.call(l,(function(){var e,r,i,n=t._v,o=N(t);if(o&&(e=v((function(){x?S.emit("unhandledRejection",n,t):(r=l.onunhandledrejection)?r({promise:t,reason:n}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",n)})),t._h=x||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){m.call(l,(function(){var e;x?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},j=function t(e){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw P("Promise can't be resolved itself");(r=I(e))?g((function(){var n={_w:i,_d:!1};try{r.call(e,_(t,n,1),_(F,n,1))}catch(e){F.call(n,e)}})):(i._v=e,i._s=1,D(i,!1))}catch(e){F.call({_w:i,_d:!1},e)}}};A||(L=function(t){p(this,L,"Promise","_h"),f(t),i.call(this);try{t(_(j,this,1),_(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(71)(L.prototype,{then:function(t,e){var r=M(d(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=x?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&D(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=_(j,t,1),this.reject=_(F,t,1)},y.f=M=function(t){return t===L||t===s?new o(t):n(t)}),u(u.G+u.W+u.F*!A,{Promise:L}),r(24)(L,"Promise"),r(72)("Promise"),s=r(2).Promise,u(u.S+u.F*!A,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(a||!A),"Promise",{resolve:function(t){return T(a&&this===s?L:this,t)}}),u(u.S+u.F*!(A&&r(73)((function(t){L.all(t).catch(E)}))),"Promise",{all:function(t){var e=this,r=M(e),i=r.resolve,n=r.reject,o=v((function(){var r=[],o=0,s=1;$(t,!1,(function(t){var a=o++,l=!1;r.push(void 0),s++,e.resolve(t).then((function(t){l||(l=!0,r[a]=t,--s||i(r))}),n)})),--s||i(r)}));return o.e&&n(o.v),r.promise},race:function(t){var e=this,r=M(e),i=r.reject,n=v((function(){$(t,!1,(function(t){e.resolve(t).then(r.resolve,i)}))}));return n.e&&i(n.v),r.promise}})},function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var i=r(13),n=r(65),o=r(66),s=r(3),a=r(32),l=r(67),_={},c={};(e=t.exports=function(t,e,r,u,h){var f,p,$,d,m=h?function(){return t}:l(t),g=i(r,u,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(f=a(t.length);f>y;y++)if((d=e?g(s(p=t[y])[0],p[1]):g(t[y]))===_||d===c)return d}else for($=m.call(t);!(p=$.next()).done;)if((d=n($,g,p.value,e))===_||d===c)return d}).BREAK=_,e.RETURN=c},function(t,e,r){var i=r(3);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,r){var i=r(8),n=r(0)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},function(t,e,r){var i=r(15),n=r(0)("iterator"),o=r(8);t.exports=r(2).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[i(t)]}},function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var i=r(1),n=r(36).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==r(9)(s);t.exports=function(){var t,e,r,_=function(){var i,n;for(l&&(i=s.domain)&&i.exit();t;){n=t.fn,t=t.next;try{n()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(l)r=function(){s.nextTick(_)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);r=function(){c.then(_)}}else r=function(){n.call(i,_)};else{var u=!0,h=document.createTextNode("");new o(_).observe(h,{characterData:!0}),r=function(){h.data=u=!u}}return function(i){var n={fn:i,next:void 0};e&&(e.next=n),t||(t=n,r()),e=n}}},function(t,e,r){var i=r(1).navigator;t.exports=i&&i.userAgent||""},function(t,e,r){var i=r(5);t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},function(t,e,r){var i=r(1),n=r(10),o=r(7),s=r(0)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var i=r(0)("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},t(o)}catch(t){}return r}},function(t,e,r){var i=r(12),n=r(2),o=r(1),s=r(35),a=r(38);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,n.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then((function(){return r}))}:t,r?function(r){return a(e,t()).then((function(){throw r}))}:t)}})},function(t,e,r){var i=r(12),n=r(25),o=r(37);i(i.S,"Promise",{try:function(t){var e=n.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){function i(){try{return document.currentScript.src}catch(e){var t=document.getElementsByTagName("script");return t[t.length-1].src}}Object.defineProperty(e,"__esModule",{value:!0}),r.p=i().replace(/[^/\\\\]+$/,""),e.getCurrentPath=i},function(t,e,r){t.exports={model:{jsonPath:"https://unpkg.com/live2d-widget-model-shizuku@latest/assets/shizuku.model.json",scale:1},display:{superSample:2,width:200,height:400,position:"right",hOffset:0,vOffset:-20},mobile:{show:!0,scale:.8,motion:!0},name:{canvas:"live2dcanvas",div:"live2d-widget"},react:{opacity:1},dev:{border:!1},dialog:{enable:!1,hitokoto:!1}}},function(t,e,r){var i="function"==typeof Symbol&&"symbol"==Object(X["a"])(Symbol.iterator)?function(t){return Object(X["a"])(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(X["a"])(t)};t.exports=function t(e,r){function n(e,r){for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];if("__proto__"===n)continue;var s=e[n];null==s?e[n]=o:"object"===(void 0===s?"undefined":i(s))&&null!==s&&"object"===(void 0===o?"undefined":i(o))&&null!==o&&t(s,o)}}e=e||{};for(var o=arguments.length,s=0;s<o;){var a=arguments[s++];a&&n(e,a)}return e}}]).L2Dwidget),H=(r("8cec"),Object(i["defineComponent"])({name:"Live2d",setup:function(){var t=Object(i["reactive"])({user:"",password:"",form:{account:"",password:""}});function e(){z.init({model:{jsonPath:"https://unpkg.com/live2d-widget-model-wanko/assets/wanko.model.json",scale:1},display:{position:"left"},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.2}})}return Object(i["onBeforeMount"])((function(){console.log(z)})),Object(i["onMounted"])((function(){e()})),{state:t}}}));const W=D()(H,[["render",Y]]);var q=W,J=document.documentElement.clientHeight,Q=document.documentElement.clientWidth,Z={srceenHeight:J,srceenWidth:Q,user:""},K=Z,tt=Object(i["defineComponent"])({name:"Login",components:{Live2d:q},setup:function(){var t=Object(i["getCurrentInstance"])(),e=t.proxy,r=(Object(M["d"])(),Object(i["reactive"])({user:"",password:"",login_form:{account:"",password:""},register_form:{account:"",password:"",name:""},login_register:1}));function n(){""==r.login_form.account||""==r.login_form.password?E["a"].warning("请输入账号密码！"):P(r.login_form.account).then((function(t){if(console.log(t),0==t.length)E["a"].error("哦豁，账号密码错误！");else{var i=t[0].attributes,n=i.password;n==r.login_form.password?(E["a"].success("登陆成功，欢迎回来！"),e.globalVariables.user=i.name,e.globalVariables.account=i.account,y("name",i.name,7),y("account",i.account,7),window.location.reload()):E["a"].error("哦豁，账号密码错误！")}})),console.log(K.user)}function o(){P(r.register_form.account).then((function(t){console.log(t),t.length>0?E["a"].error("账号已存在，请直接登录！"):(T(r.register_form),E["a"].success("注册成功，请登录！"),r.login_register=1,r.register_form={account:"",password:"",name:""})}))}function s(){localStorage.removeItem("user")}return Object(i["onBeforeMount"])((function(){})),{state:r,login:n,userRegister:o,remove:s}}});r("ed9d");const et=D()(tt,[["render",G],["__scopeId","data-v-2da6d036"]]);var rt=et,it=Object(i["defineComponent"])({name:"App",components:{Header:N,Menu:k,Login:rt},setup:function(){var t=Object(i["getCurrentInstance"])(),e=t.proxy,r=Object(i["reactive"])({login_flag:0});return Object(i["onBeforeMount"])((function(){console.log("cookie:",document.cookie);var t=v("account");t?(r.login_flag=1,e.globalVariables.account=t,e.globalVariables.name=name):r.login_flag=0})),{state:r}}});r("a70a");const nt=D()(it,[["render",o]]);var ot=nt;function st(t,e,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null," homepage ")}var at=Object(i["defineComponent"])({setup:function(){var t=Object(i["reactive"])({user:""});return Object(i["onBeforeMount"])((function(){})),{state:t}}});const lt=D()(at,[["render",st]]);var _t=lt,ct={class:"content"},ut={class:"date"},ht={class:"detail"};function ft(t,e,r,n,o,s){var a=Object(i["resolveComponent"])("star-filled"),l=Object(i["resolveComponent"])("el-icon"),_=Object(i["resolveComponent"])("el-divider"),c=Object(i["resolveComponent"])("el-tag"),u=Object(i["resolveComponent"])("el-collapse-item"),h=Object(i["resolveComponent"])("el-collapse");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ct,[Object(i["createVNode"])(h,{accordion:"",class:"content_list"},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.state.record_list,(function(t){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{name:t.id,key:t.id},{title:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("h3",null,Object(i["toDisplayString"])(t.title),1),Object(i["createElementVNode"])("span",ut,Object(i["toDisplayString"])(t.date),1)]})),default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(_,{class:"divider"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1}),t.score>=2?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1})):Object(i["createCommentVNode"])("",!0),t.score>=3?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1})):Object(i["createCommentVNode"])("",!0),t.score>=4?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:2},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1})):Object(i["createCommentVNode"])("",!0),t.score>=5?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:3},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a)]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:2},1024),Object(i["createElementVNode"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.label_list,(function(t,e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e+": "+t+"h"),1)]})),_:2},1024)})),128))]),Object(i["createElementVNode"])("p",ht,Object(i["toDisplayString"])(t.content),1)]})),_:2},1032,["name"])})),128))]})),_:1})])}var pt=r("b85c"),$t=r("5203"),dt=Object(i["defineComponent"])({components:{StarFilled:$t["a"]},setup:function(){var t=Object(i["getCurrentInstance"])(),e=t.proxy,r=Object(i["reactive"])({record_list:[]});function n(){O(e.globalVariables.account).then((function(t){console.log(t);var e,i=Object(pt["a"])(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;r.record_list.push(n.attributes)}}catch(o){i.e(o)}finally{i.f()}}))}return Object(i["onBeforeMount"])((function(){n()})),{state:r}}});r("0586");const mt=D()(dt,[["render",ft],["__scopeId","data-v-42821328"]]);var gt=mt,yt={class:"wrap"},vt=Object(i["createTextVNode"])("打卡");function bt(t,e,r,n,o,s){var a=Object(i["resolveComponent"])("el-input"),l=Object(i["resolveComponent"])("el-form-item"),_=Object(i["resolveComponent"])("el-checkbox"),c=Object(i["resolveComponent"])("el-checkbox-group"),u=Object(i["resolveComponent"])("el-input-number"),h=Object(i["resolveComponent"])("el-tag"),f=Object(i["resolveComponent"])("el-rate"),p=Object(i["resolveComponent"])("el-button"),$=Object(i["resolveComponent"])("el-form");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",yt,[Object(i["createVNode"])($,{class:"form",ref:"form",modelValue:t.state.form,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.state.form=e})},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,{label:"标题"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{modelValue:t.state.form.title,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.state.form.title=e})},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(l,{label:"日期"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{modelValue:t.state.form.date,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.state.form.date=e}),disabled:""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(l,{label:"标签"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{modelValue:t.state.label_selected,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.state.label_selected=e})},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.state.label_list,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(_,{value:e,label:e,key:e,onChange:function(r){return t.selectLabel(r,e)}},null,8,["value","label","onChange"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(i["createVNode"])(l,{label:"时长"},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.state.label_selected,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:e},[Object(i["createVNode"])(u,{modelValue:t.state.form.label[e],"onUpdate:modelValue":function(r){return t.state.form.label[e]=r},size:"small",min:.5,max:10,step:.5,"step-strictly":""},null,8,["modelValue","onUpdate:modelValue","min","step"]),Object(i["createVNode"])(h,{style:{"margin-left":"10px"},effect:"plain"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]})),_:2},1024)])})),128))]})),_:1}),Object(i["createVNode"])(l,{label:"评分"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(f,{modelValue:t.state.form.score,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.state.form.score=e}),texts:["terrible","oops","so so","great","wonderful"],"show-text":""},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(l,{label:"描述"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{modelValue:t.state.form.content,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.state.form.content=e}),type:"textarea",rows:5},null,8,["modelValue"])]})),_:1}),Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(p,{class:"clockin_btn",type:"primary",onClick:t.submitData},{default:Object(i["withCtx"])((function(){return[vt]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["modelValue"])])}var Tt=r("c9a1"),Pt=Object(i["defineComponent"])({setup:function(){var t=Object(i["getCurrentInstance"])(),e=t.proxy,r=Object(M["d"])(),n=Object(i["reactive"])({label_list:[],label_selected:[],form:{account:e.globalVariables.account,name:e.globalVariables.name,title:"",date:"",label:{},time:0,score:0,content:""}});function o(t,e){t?n.form.label[e]=.5:delete n.form.label[e],console.log(n.form.label)}function s(){for(var t in n.form.label)n.form.time+=n.form.label[t];for(var i in n.form)""==n.form[i]||n.form[i];w(n.form.account,n.form.date).then((function(t){console.log(t),0==t.length?(L(n.form),E["a"].success("提交成功！"),x(n.form),n.label_selected=[],n.form={account:e.globalVariables.account,name:e.globalVariables.name,title:"",date:"",label:{},time:0,score:0,content:""},r.push({name:"RecordList"})):Tt["a"].confirm("今天已经打过卡，重复提交会覆盖当日打卡，确认提交？","",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((function(){E["a"].success("提交成功！"),x(n.form),n.label_selected=[],n.form={account:e.globalVariables.account,name:e.globalVariables.name,title:"",date:"",label:{},time:0,score:0,content:""},r.push({name:"RecordList"})})).catch((function(){E["a"].info("已取消！")}))})).catch((function(t){console.log(t)}))}return Object(i["onBeforeMount"])((function(){n.form.date=g(),P(e.globalVariables.account).then((function(t){n.label_list=t[0].attributes.label_list}))})),{state:n,selectLabel:o,submitData:s}}});r("0c0f");const St=D()(Pt,[["render",bt],["__scopeId","data-v-c9f3fbe0"]]);var Ot=St,wt=[{path:"/",name:"HomePage",component:_t},{path:"/login",name:"Login",component:rt,beforeEnter:function(t,e,r){if(!v("account"))return!0;r({name:"HomePage"})}},{path:"/recordlist",name:"RecordList",component:gt},{path:"/clockin",name:"ClockIn",component:Ot}],Lt=Object(M["a"])({history:Object(M["b"])(),mode:"hash",routes:wt}),xt=Lt,Et=r("c3a1"),Mt=(r("7437"),Object(i["createApp"])(ot));Mt.use(xt),Mt.use(Et["a"]),Mt.use(Et["a"]),Mt.config.globalProperties.globalVariables=K,Mt.mount("#app")},"8cec":function(t,e,r){r("d3b7"),r("cfc3"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("c19f"),r("a434"),r("8b09"),r("ac1f"),r("00b4"),r("1276"),r("2ca0"),r("84c3"),r("25f0"),r("fd87"),r("143c"),r("b680"),r("4a9b"),r("9911"),r("b0c0"),r("5cc6"),r("a9e3"),
/*! https://github.com/xiazeyu/live2d-widget.js built@2019-4-2 16:24:00 */
webpackJsonpL2Dwidget([0],{79:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.captureFrame=e.theRealInit=void 0;var i,n=r(26),o=r(83),s=r(80),a=r(81),l=r(86),_=r(84),c=r(82),u=r(39),h=(i=u)&&i.__esModule?i:{default:i},f=null,p=void 0,$=!1,d=null,m=null,g=null,y=null,v=!1,b=.5,T=null;function P(t,e,r){if(e.x<r.left+r.width&&e.y<r.top+r.height&&e.x>r.left&&e.y>r.top)return e;var i=t.x-e.x,n=t.y-e.y;function o(t,e){return 180*Math.acos((r={x:0,y:1},n=t,o=e,s=Math.sqrt(n*n+o*o),i={x:n/s,y:o/s},r.x*i.x+r.y*i.y))/Math.PI;var r,i,n,o,s}var s=o(i,n);e.x<t.x&&(s=360-s);var a=360-o(r.left-t.x,-1*(r.top-t.y)),l=360-o(r.left-t.x,-1*(r.top+r.height-t.y)),_=o(r.left+r.width-t.x,-1*(r.top-t.y)),c=o(r.left+r.width-t.x,-1*(r.top+r.height-t.y)),u=n/i,h={};if(s<_){var f=r.top-t.y,p=f/u;h={y:t.y+f,x:t.x+p}}else if(s<c){var $=r.left+r.width-t.x,d=$*u;h={y:t.y+d,x:t.x+$}}else if(s<l){var m=r.top+r.height-t.y,g=m/u;h={y:t.y+m,x:t.x+g}}else if(s<a){var y=t.x-r.left,v=y*u;h={y:t.y-v,x:t.x-y}}else{var b=r.top-t.y,T=b/u;h={y:t.y+b,x:t.x+T}}return h}function S(t){v=!0;var e=o.currCanvas.getBoundingClientRect(),r=(M(t.clientX-e.left),A(t.clientY-e.top),P({x:e.left+e.width/2,y:e.top+e.height*b},{x:t.clientX,y:t.clientY},e)),i=x(r.x-e.left),n=E(r.y-e.top);c.cDefine.DEBUG_MOUSE_LOG&&console.log("modelTapEvent onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+i+" y:"+n+")"),T.emit("tap",t),f.tapEvent(i,n)}function O(){v&&(v=!1),d.setPoint(0,0)}function w(t){if("mousedown"==t.type)S(t);else if("mousemove"==t.type)!function(t){v=!0;var e=o.currCanvas.getBoundingClientRect(),r=(M(t.clientX-e.left),A(t.clientY-e.top),P({x:e.left+e.width/2,y:e.top+e.height*b},{x:t.clientX,y:t.clientY},e)),i=x(r.x-e.left),n=E(r.y-e.top);c.cDefine.DEBUG_MOUSE_LOG&&console.log("modelTurnHead onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+i+" y:"+n+")"),d.setPoint(i,n)}(t);else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else"mouseleave"==t.type&&O()}function L(t){var e,r,i,n,s,a=t.touches[0];"touchstart"==t.type?1==t.touches.length&&S(a):"touchmove"==t.type?(e=a,r=o.currCanvas.getBoundingClientRect(),M(e.clientX-r.left),A(e.clientY-r.top),i=P({x:r.left+r.width/2,y:r.top+r.height*b},{x:e.clientX,y:e.clientY},r),n=x(i.x-r.left),s=E(i.y-r.top),c.cDefine.DEBUG_MOUSE_LOG&&console.log("followPointer onMouseMove device( x:"+e.clientX+" y:"+e.clientY+" ) view( x:"+n+" y:"+s+")"),v&&d.setPoint(n,s)):"touchend"==t.type&&O()}function x(t){var e=y.transformX(t);return m.invertTransformX(e)}function E(t){var e=y.transformY(t);return m.invertTransformY(e)}function M(t){return y.transformX(t)}function A(t){return y.transformY(t)}e.theRealInit=function(t){(0,o.createElement)(),o.currCanvas.addEventListener&&(window.addEventListener("click",w),window.addEventListener("mousedown",w),window.addEventListener("mousemove",w),window.addEventListener("mouseup",w),document.addEventListener("mouseleave",w),window.addEventListener("touchstart",L),window.addEventListener("touchend",L),window.addEventListener("touchmove",L)),f=new l.cManager(T),d=new a.L2DTargetPoint;var e,r,i=o.currCanvas.getBoundingClientRect(),u=i.height/i.width,v=c.cDefine.VIEW_LOGICAL_LEFT,b=c.cDefine.VIEW_LOGICAL_RIGHT,P=-u,S=u;(m=new a.L2DViewMatrix).setScreenRect(v,b,P,S),m.setMaxScreenRect(c.cDefine.VIEW_LOGICAL_MAX_LEFT,c.cDefine.VIEW_LOGICAL_MAX_RIGHT,c.cDefine.VIEW_LOGICAL_MAX_BOTTOM,c.cDefine.VIEW_LOGICAL_MAX_TOP),e=h.default.mobile()&&n.config.mobile.scale||n.config.model.scale,m.adjustScale(0,0,e),(g=new a.L2DMatrix44).multScale(1,i.width/i.height),(y=new a.L2DMatrix44).multTranslate(-i.width/2,-i.height/2),y.multScale(2/i.width,-2/i.height),s.Live2D.setGL(o.currWebGL),o.currWebGL.clearColor(0,0,0,0),r=n.config.model.jsonPath,f.reloadFlg=!0,f.count++,f.changeModel(o.currWebGL,r),$||($=!0,function t(){!function(){_.MatrixStack.reset(),_.MatrixStack.loadIdentity(),d.update(),f.setDrag(d.getX(),d.getY()),o.currWebGL.clear(o.currWebGL.COLOR_BUFFER_BIT),_.MatrixStack.multMatrix(g.getArray()),_.MatrixStack.multMatrix(m.getArray()),_.MatrixStack.push();for(var t=0;t<f.numModels();t++){var e=f.getModel(t);if(null==e)return;e.initialized&&!e.updating&&(e.update(),e.draw(o.currWebGL))}_.MatrixStack.pop()}();var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;e(t,o.currCanvas),void 0!==p&&(p(o.currCanvas.toDataURL()),p=void 0)}())},e.captureFrame=function(t){p=t}},80:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=!0;function i(){r||(this._$MT=null,this._$5S=null,this._$NP=0,i._$42++,this._$5S=new k(this))}function n(t){if(!r){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new b,at.glContext.length>at.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new I,this.tmpMatrix2=new I,this.tmpMatrixForMask=new I,this.tmpMatrixForDraw=new I,this.CHANNEL_COLORS=new Array;var e=new w;(e=new w).r=0,e.g=0,e.b=0,e.a=1,this.CHANNEL_COLORS.push(e),(e=new w).r=1,e.g=0,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new w).r=0,e.g=1,e.b=0,e.a=0,this.CHANNEL_COLORS.push(e),(e=new w).r=0,e.g=0,e.b=1,e.a=0,this.CHANNEL_COLORS.push(e);for(var i=0;i<this.CHANNEL_COLORS.length;i++)this.dp_webgl.setChannelFlagAsColor(i,this.CHANNEL_COLORS[i])}}function o(t,e,r){this.clipIDList=new Array,this.clipIDList=r,this.clippingMaskDrawIndexList=new Array;for(var i=0;i<r.length;i++)this.clippingMaskDrawIndexList.push(e.getDrawDataIndex(r[i]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new b,this.allClippedDrawRect=new b,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function s(){r||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function a(){}function l(){r||(this.x=null,this.y=null,this.width=null,this.height=null)}function _(t){r||rt.prototype.constructor.call(this,t)}function c(t){r||rt.prototype.constructor.call(this,t)}function u(){r||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,u._$42++)}function h(){r||(this.p1=new f,this.p2=new f,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function f(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function p(t,e,r){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=r}function $(t,e,r,i){p.prototype.constructor.call(this,e,r,i),this._$tL=null,this._$tL=t}function d(t,e,r){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=e,this._$V0=r}function g(t,e,r,i){d.prototype.constructor.call(this,e,r,i),this._$YP=null,this._$YP=t}function y(){r||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}i._$0s=1,i._$4s=2,i._$42=0,i._$62=function(t,e){try{if(e instanceof ArrayBuffer&&(e=new DataView(e)),!(e instanceof DataView))throw new _t("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var r,n=new bt(e),o=n._$ST(),s=n._$ST(),l=n._$ST();if(109!=o||111!=s||99!=l)throw new _t("_$gi _$C _$li , _$Q0 _$P0.");if(r=n._$ST(),n._$gr(r),r>B._$T7)throw t._$NP|=i._$4s,new _t("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+B._$T7+" < _$f0 : "+r+" )@_$SS#loadModel()\n");var _=n._$nP();if(r>=B._$s7){var c=n._$9T(),u=n._$9T();if(-30584!=c||-30584!=u)throw t._$NP|=i._$0s,new _t("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(_);var h=t.getModelContext();h.setDrawParam(t.getDrawParam()),h.init()}catch(t){a._$Rb(t)}},i.prototype._$KS=function(t){this._$MT=t},i.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new u,this._$MT._$zP()),this._$MT},i.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},i.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},i.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(c.getID(t))),this._$5S.getParamFloat(t)},i.prototype.setParamFloat=function(t,e,r){"number"!=typeof t&&(t=this._$5S.getParamIndex(c.getID(t))),arguments.length<3&&(r=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-r)+e*r)},i.prototype.addToParamFloat=function(t,e,r){"number"!=typeof t&&(t=this._$5S.getParamIndex(c.getID(t))),arguments.length<3&&(r=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+e*r)},i.prototype.multParamFloat=function(t,e,r){"number"!=typeof t&&(t=this._$5S.getParamIndex(c.getID(t))),arguments.length<3&&(r=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(e-1)*r))},i.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(c.getID(t))},i.prototype.loadParam=function(){this._$5S.loadParam()},i.prototype.saveParam=function(){this._$5S.saveParam()},i.prototype.init=function(){this._$5S.init()},i.prototype.update=function(){this._$5S.update()},i.prototype._$Rs=function(){return a._$li("_$60 _$PT _$Rs()"),-1},i.prototype._$Ds=function(t){a._$li("_$60 _$PT _$SS#_$Ds() \n")},i.prototype._$K2=function(){},i.prototype.draw=function(){},i.prototype.getModelContext=function(){return this._$5S},i.prototype._$s2=function(){return this._$NP},i.prototype._$P7=function(t,e,r,i){var n=-1,o=0,s=this;if(0!=r)if(1==t.length){f=t[0];var a=0!=s.getParamFloat(f),l=(p=e[0],s.getPartsOpacity(p)),_=r/i;a?(l+=_)>1&&(l=1):(l-=_)<0&&(l=0),s.setPartsOpacity(p,l)}else{for(h=0;h<t.length;h++)if(f=t[h],$=0!=s.getParamFloat(f)){if(n>=0)break;n=h,p=e[h],o=s.getPartsOpacity(p),(o+=r/i)>1&&(o=1)}for(n<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),n=0,o=1,s.loadParam(),s.setParamFloat(t[n],o),s.saveParam()),h=0;h<t.length;h++)if(p=e[h],n==h)s.setPartsOpacity(p,o);else{var c,u=s.getPartsOpacity(p);(1-(c=o<.5?-.5*o/.5+1:.5*(1-o)/.5))*(1-o)>.15&&(c=1-.15/(1-o)),u>c&&(u=c),s.setPartsOpacity(p,u)}}else for(var h=0;h<t.length;h++){var f=t[h],p=e[h],$=0!=s.getParamFloat(f);s.setPartsOpacity(p,$?1:0)}},i.prototype.setPartsOpacity=function(t,e){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(_.getID(t))),this._$5S.setPartsOpacity(t,e)},i.prototype.getPartsDataIndex=function(t){return t instanceof _||(t=_.getID(t)),this._$5S.getPartsDataIndex(t)},i.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(_.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},i.prototype.getDrawParam=function(){},i.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(D.getID(t))},i.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},i.prototype.getTransformedPoints=function(t){var e=this._$5S._$C2(t);return e instanceof ut?e.getTransformedPoints():null},i.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var e=this._$5S._$aS[t];return null!=e&&e.getType()==H._$wb&&e instanceof ct?e.getIndexArray():null},n.CHANNEL_COUNT=4,n.RENDER_TEXTURE_USE_MIPMAP=!1,n.NOT_USED_FRAME=-100,n.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},n.prototype.releaseShader=function(){for(var t=at.frameBuffers.length,e=0;e<t;e++)this.gl.deleteFramebuffer(at.frameBuffers[e].framebuffer);at.frameBuffers=[],at.glContext=[]},n.prototype.init=function(t,e,r){for(var i=0;i<e.length;i++){var n=e[i].getClipIDList();if(null!=n){var s=this.findSameClip(n);null==s&&(s=new o(this,t,n),this.clipContextList.push(s));var a=e[i].getDrawDataID(),l=t.getDrawDataIndex(a);s.addClippedDrawData(a,l),r[i].clipBufPre_clipContext=s}}},n.prototype.getMaskRenderTexture=function(){var t;return t=this.dp_webgl.createFramebuffer(),at.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},n.prototype.setupClip=function(t,e){for(var r=0,i=0;i<this.clipContextList.length;i++){var n=this.clipContextList[i];this.calcClippedDrawTotalBounds(t,n),n.isUsing&&r++}if(r>0){var o=e.gl.getParameter(e.gl.FRAMEBUFFER_BINDING),s=new Array(4);for(s[0]=0,s[1]=0,s[2]=e.gl.canvas.width,s[3]=e.gl.canvas.height,e.gl.viewport(0,0,at.clippingMaskBufferSize,at.clippingMaskBufferSize),this.setupLayoutBounds(r),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,at.frameBuffers[this.curFrameNo].framebuffer),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),i=0;i<this.clipContextList.length;i++){var a=(n=this.clipContextList[i]).allClippedDrawRect,l=(n.layoutChannelNo,n.layoutBounds);this.tmpBoundsOnModel._$jL(a),this.tmpBoundsOnModel.expand(.05*a.width,.05*a.height);var _=l.width/this.tmpBoundsOnModel.width,c=l.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(_,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(l.x,l.y,0),this.tmpMatrix2.scale(_,c,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var u=this.tmpMatrixForMask.getArray(),h=0;h<16;h++)n.matrixForMask[h]=u[h];var f=this.tmpMatrixForDraw.getArray();for(h=0;h<16;h++)n.matrixForDraw[h]=f[h];for(var p=n.clippingMaskDrawIndexList.length,$=0;$<p;$++){var d=n.clippingMaskDrawIndexList[$],m=t.getDrawData(d),g=t._$C2(d);e.setClipBufPre_clipContextForMask(n),m.draw(e,t,g)}}e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,o),e.setClipBufPre_clipContextForMask(null),e.gl.viewport(s[0],s[1],s[2],s[3])}},n.prototype.getColorBuffer=function(){return this.colorBuffer},n.prototype.findSameClip=function(t){for(var e=0;e<this.clipContextList.length;e++){var r=this.clipContextList[e],i=r.clipIDList.length;if(i==t.length){for(var n=0,o=0;o<i;o++)for(var s=r.clipIDList[o],a=0;a<i;a++)if(t[a]==s){n++;break}if(n==i)return r}}return null},n.prototype.calcClippedDrawTotalBounds=function(t,e){for(var r=t._$Ri.getModelImpl().getCanvasWidth(),i=t._$Ri.getModelImpl().getCanvasHeight(),n=r>i?r:i,o=n,s=n,a=0,l=0,_=e.clippedDrawContextList.length,c=0;c<_;c++){var u=e.clippedDrawContextList[c].drawDataIndex,h=t._$C2(u);if(h._$yo()){for(var f=h.getTransformedPoints(),p=f.length,$=[],d=[],m=0,g=j._$i2;g<p;g+=j._$No)$[m]=f[g],d[m]=f[g+1],m++;var y=Math.min.apply(null,$),v=Math.min.apply(null,d),b=Math.max.apply(null,$),T=Math.max.apply(null,d);y<o&&(o=y),v<s&&(s=v),b>a&&(a=b),T>l&&(l=T)}}if(o==n)e.allClippedDrawRect.x=0,e.allClippedDrawRect.y=0,e.allClippedDrawRect.width=0,e.allClippedDrawRect.height=0,e.isUsing=!1;else{var P=a-o,S=l-s;e.allClippedDrawRect.x=o,e.allClippedDrawRect.y=s,e.allClippedDrawRect.width=P,e.allClippedDrawRect.height=S,e.isUsing=!0}},n.prototype.setupLayoutBounds=function(t){var e=t/n.CHANNEL_COUNT,r=t%n.CHANNEL_COUNT;e=~~e,r=~~r;for(var i=0,o=0;o<n.CHANNEL_COUNT;o++){var s=e+(o<r?1:0);if(0==s);else if(1==s)(u=this.clipContextList[i++]).layoutChannelNo=o,u.layoutBounds.x=0,u.layoutBounds.y=0,u.layoutBounds.width=1,u.layoutBounds.height=1;else if(2==s)for(var l=0;l<s;l++){var _=0;c=~~(c=l%2),(u=this.clipContextList[i++]).layoutChannelNo=o,u.layoutBounds.x=.5*c,u.layoutBounds.y=0,u.layoutBounds.width=.5,u.layoutBounds.height=1}else if(s<=4)for(l=0;l<s;l++)c=~~(c=l%2),_=~~(_=l/2),(u=this.clipContextList[i++]).layoutChannelNo=o,u.layoutBounds.x=.5*c,u.layoutBounds.y=.5*_,u.layoutBounds.width=.5,u.layoutBounds.height=.5;else if(s<=9)for(l=0;l<s;l++){var c,u;c=~~(c=l%3),_=~~(_=l/3),(u=this.clipContextList[i++]).layoutChannelNo=o,u.layoutBounds.x=c/3,u.layoutBounds.y=_/3,u.layoutBounds.width=1/3,u.layoutBounds.height=1/3}else a._$li("_$6 _$0P mask count : %d",s)}},o.prototype.addClippedDrawData=function(t,e){var r=new function(t,e){this._$gP=t,this.drawDataIndex=e}(t,e);this.clippedDrawContextList.push(r)},s._$JT=function(t,e,r){var i=t/e,n=r/e,o=1-(1-n)*(1-n),s=1-(1-n)*(1-n),a=1/3*(1-n)*o+(n*(2/3)+1/3*(1-n))*(1-o),l=(n+2/3*(1-n))*s+(n*(1/3)+2/3*(1-n))*(1-s),_=1-3*l+3*a-0,c=3*l-6*a+0,u=3*a-0;if(i<=0)return 0;if(i>=1)return 1;var h=i*i;return _*(i*h)+c*h+u*i+0},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(t){this._$dP=t},s.prototype.setFadeOut=function(t){this._$eo=t},s.prototype._$pT=function(t){this._$V0=t},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(t,e){if(e._$AT&&!e._$9L){var r=x.getUserTimeMSec();if(e._$z2<0){e._$z2=r,e._$bs=r;var i=this.getDurationMSec();e._$Do<0&&(e._$Do=i<=0?-1:e._$z2+i)}var n=this._$V0;0<=(n=n*(0==this._$dP?1:lt._$r2((r-e._$bs)/this._$dP))*(0==this._$eo||e._$Do<0?1:lt._$r2((e._$Do-r)/this._$eo)))&&n<=1||console.log("### assert!! ### "),this.updateParamExe(t,r,n,e),e._$Do>0&&e._$Do<r&&(e._$9L=!0)}},s.prototype.updateParamExe=function(t,e,r,i){},a._$8s=0,a._$fT=new Object,a.start=function(t){var e=a._$fT[t];null==e&&((e=new function(){this._$r=null,this._$0S=null})._$r=t,a._$fT[t]=e),e._$0S=x.getSystemTimeMSec()},a.dump=function(t){var e=a._$fT[t];if(null!=e){var r=x.getSystemTimeMSec()-e._$0S;return console.log(t+" : "+r+"ms"),r}return-1},a.end=function(t){var e=a._$fT[t];return null!=e?x.getSystemTimeMSec()-e._$0S:-1},a._$li=function(t,e){console.log("_$li : "+t+"\n",e)},a._$Ji=function(t,e){console.log(t,e)},a._$dL=function(t,e){console.log(t,e),console.log("\n")},a._$KL=function(t,e){for(var r=0;r<e;r++)r%16==0&&r>0?console.log("\n"):r%8==0&&r>0&&console.log("  "),console.log("%02X ",255&t[r]);console.log("\n")},a._$nr=function(t,e,r){console.log("%s\n",t);for(var i=e.length,n=0;n<i;++n)console.log("%5d",e[n]),console.log("%s\n",r),console.log(",");console.log("\n")},a._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},l.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},l.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},l.prototype._$EL=function(){return this.x+this.width},l.prototype._$5T=function(){return this.y+this.height},l.prototype._$jL=function(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i},l.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},_.prototype=new rt,_._$tP=new Object,_._$27=function(){_._$tP.clear()},_.getID=function(t){var e=_._$tP[t];return null==e&&(e=new _(t),_._$tP[t]=e),e},_.prototype._$3s=function(){return new _},c.prototype=new rt,c._$tP=new Object,c._$27=function(){c._$tP.clear()},c.getID=function(t){var e=c._$tP[t];return null==e&&(e=new c(t),c._$tP[t]=e),e},c.prototype._$3s=function(){return new c},u._$42=0,u.prototype._$zP=function(){null==this._$vo&&(this._$vo=new it),null==this._$F2&&(this._$F2=new Array)},u.prototype.getCanvasWidth=function(){return this._$ao},u.prototype.getCanvasHeight=function(){return this._$1S},u.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},u.prototype._$6S=function(t){this._$F2.push(t)},u.prototype._$Xr=function(){return this._$F2},u.prototype._$E2=function(){return this._$vo},h.prototype.setup=function(t,e,r){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=e,this.p1._$p=r,this.p2._$p=r,this.p2.y=t,this.setup())},h.prototype.getPhysicsPoint1=function(){return this.p1},h.prototype.getPhysicsPoint2=function(){return this.p2},h.prototype._$qr=function(){return this._$Db},h.prototype._$pr=function(t){this._$Db=t},h.prototype._$5r=function(){return this._$M2},h.prototype._$Cs=function(){return this._$9b},h.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},h.prototype.addSrcParam=function(t,e,r,i){var n=new $(t,e,r,i);this._$lL.push(n)},h.prototype.addTargetParam=function(t,e,r,i){var n=new g(t,e,r,i);this._$qP.push(n)},h.prototype.update=function(t,e){if(0==this._$iP)return this._$iP=this._$iT=e,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var r=(e-this._$iT)/1e3;if(0!=r){for(var i=this._$lL.length-1;i>=0;--i)this._$lL[i]._$oP(t,this);this._$oo(t,r),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/r,this._$ks=this._$M2}for(i=this._$qP.length-1;i>=0;--i)this._$qP[i]._$YS(t,this);this._$iT=e},h.prototype._$oo=function(t,e){e<.033&&(e=.033);var r=1/e;this.p1.vx=(this.p1.x-this.p1._$s0)*r,this.p1.vy=(this.p1.y-this.p1._$70)*r,this.p1.ax=(this.p1.vx-this.p1._$7L)*r,this.p1.ay=(this.p1.vy-this.p1._$HL)*r,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var i,n,o=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(o),a=Math.sin(o),l=9.8*this.p2._$p,_=this._$Db*Pt._$bS,c=l*Math.cos(o-_);i=c*a,n=c*s;var u=-this.p1.fx*a*a,h=-this.p1.fy*a*s,f=-this.p2.vx*this._$L2,p=-this.p2.vy*this._$L2;this.p2.fx=i+u+f,this.p2.fy=n+h+p,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*e,this.p2.vy+=this.p2.ay*e,this.p2.x+=this.p2.vx*e,this.p2.y+=this.p2.vy*e;var $=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/$,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/$,this.p2.vx=(this.p2.x-this.p2._$s0)*r,this.p2.vy=(this.p2.y-this.p2._$70)*r,this.p2._$xT()},f.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},p.prototype._$oP=function(t,e){},$.prototype=new p,$.prototype._$oP=function(t,e){var r=this.scale*t.getParamFloat(this._$wL),i=e.getPhysicsPoint1();switch(this._$tL){default:case h.Src.SRC_TO_X:i.x=i.x+(r-i.x)*this._$V0;break;case h.Src.SRC_TO_Y:i.y=i.y+(r-i.y)*this._$V0;break;case h.Src.SRC_TO_G_ANGLE:var n=e._$qr();n+=(r-n)*this._$V0,e._$pr(n)}},d.prototype._$YS=function(t,e){},g.prototype=new d,g.prototype._$YS=function(t,e){switch(this._$YP){default:case h.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*e._$5r(),this._$V0);break;case h.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*e._$Cs(),this._$V0)}},h.Src=function(){},h.Src.SRC_TO_X="SRC_TO_X",h.Src.SRC_TO_Y="SRC_TO_Y",h.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",h.Target=function(){},h.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",h.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",y.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},y.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=B.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},y.prototype._$e=function(){};var v=function(){};function b(){r||(this.x=null,this.y=null,this.width=null,this.height=null)}function T(){}function P(){r||(this.x=null,this.y=null)}function S(){r||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function O(){r||(this._$Eb=O._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=O.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function w(){r||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=at.L2D_COLOR_BLEND_MODE_MULT)}function L(){r||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function x(){}function E(){r||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=E._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function M(){}function A(){r||(this._$Ob=null)}function I(){this.m=new Float32Array(16),this.identity()}function D(t){r||rt.prototype.constructor.call(this,t)}function C(){r||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function N(){r||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=N._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function R(){this._$P=new Float32Array(100),this.size=0}function F(){this._$4P=null,this._$I0=null,this._$RP=null}function j(){}function B(){}function k(t){r||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(k._$is),this._$_2=new Float32Array(k._$is),this._$vr=new Float32Array(k._$is),this._$Rr=new Float32Array(k._$is),this._$Or=new Float32Array(k._$is),this._$fs=new Float32Array(k._$is),this._$Js=new Array(k._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(j._$Qb),this._$ZP=new Float32Array(2*j._$1r),this._$Ri=t,this._$b0=k._$HP++,this.clipManager=null,this.dp_webgl=null)}function V(){}function U(){r||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=G.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}v._$ni=function(t,e,r,i,n,o,s,a,l){var _=s*o-a*n;if(0==_)return null;var c,u=((t-r)*o-(e-i)*n)/_;return c=0!=n?(t-r-u*s)/n:(e-i-u*a)/o,isNaN(c)&&(c=(t-r-u*s)/n,isNaN(c)&&(c=(e-i-u*a)/o),isNaN(c)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+n),console.log("v1x != 0 ? "+(0!=n)))),null==l?new Array(c,u):(l[0]=c,l[1]=u,l)},b.prototype._$8P=function(){return this.x+.5*this.width},b.prototype._$6P=function(){return this.y+.5*this.height},b.prototype._$EL=function(){return this.x+this.width},b.prototype._$5T=function(){return this.y+this.height},b.prototype._$jL=function(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i},b.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},b.prototype.contains=function(t,e){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},b.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},T._$Z2=function(t,e,r,i){var n=e._$Q2(t,r),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,n),n<=0)return i[o[0]];if(1==n)return(a=i[o[0]])+((l=i[o[1]])-a)*(u=s[0])|0;if(2==n){var a=i[o[0]],l=i[o[1]],_=i[o[2]],c=i[o[3]],u=s[0],h=s[1];return(T=a+(l-a)*u|0)+((_+(c-_)*u|0)-T)*h|0}if(3==n){var f=i[o[0]],p=i[o[1]],$=i[o[2]],d=i[o[3]],m=i[o[4]],g=i[o[5]],y=i[o[6]],v=i[o[7]],b=(u=s[0],h=s[1],s[2]);return(T=(a=f+(p-f)*u|0)+((l=$+(d-$)*u|0)-a)*h|0)+(((_=m+(g-m)*u|0)+((c=y+(v-y)*u|0)-_)*h|0)-T)*b|0}if(4==n){var T,P=i[o[0]],S=i[o[1]],O=i[o[2]],w=i[o[3]],L=i[o[4]],x=i[o[5]],E=i[o[6]],M=i[o[7]],A=i[o[8]],I=i[o[9]],D=i[o[10]],C=i[o[11]],N=i[o[12]],R=i[o[13]],F=i[o[14]],j=i[o[15]],B=(u=s[0],h=s[1],b=s[2],s[3]);return(T=(a=(f=P+(S-P)*u|0)+((p=O+(w-O)*u|0)-f)*h|0)+((l=($=L+(x-L)*u|0)+((d=E+(M-E)*u|0)-$)*h|0)-a)*b|0)+(((_=(m=A+(I-A)*u|0)+((g=D+(C-D)*u|0)-m)*h|0)+((c=(y=N+(R-N)*u|0)+((v=F+(j-F)*u|0)-y)*h|0)-_)*b|0)-T)*B|0}for(var k=1<<n,V=new Float32Array(k),U=0;U<k;U++){for(var G=U,Y=1,X=0;X<n;X++)Y*=G%2==0?1-s[X]:s[X],G/=2;V[U]=Y}for(var z=new Float32Array(k),H=0;H<k;H++)z[H]=i[o[H]];var W=0;for(H=0;H<k;H++)W+=V[H]*z[H];return W+.5|0},T._$br=function(t,e,r,i){var n=e._$Q2(t,r),o=t._$vs(),s=t._$Tr();if(e._$zr(o,s,n),n<=0)return i[o[0]];if(1==n)return(a=i[o[0]])+((l=i[o[1]])-a)*s[0];if(2==n){var a=i[o[0]],l=i[o[1]],_=i[o[2]],c=i[o[3]],u=s[0];return(1-(v=s[1]))*(a+(l-a)*u)+v*(_+(c-_)*u)}if(3==n){var h=i[o[0]],f=i[o[1]],p=i[o[2]],$=i[o[3]],d=i[o[4]],m=i[o[5]],g=i[o[6]],y=i[o[7]],v=(u=s[0],s[1]);return(1-(F=s[2]))*((1-v)*(h+(f-h)*u)+v*(p+($-p)*u))+F*((1-v)*(d+(m-d)*u)+v*(g+(y-g)*u))}if(4==n){var b=i[o[0]],T=i[o[1]],P=i[o[2]],S=i[o[3]],O=i[o[4]],w=i[o[5]],L=i[o[6]],x=i[o[7]],E=i[o[8]],M=i[o[9]],A=i[o[10]],I=i[o[11]],D=i[o[12]],C=i[o[13]],N=i[o[14]],R=i[o[15]],F=(u=s[0],v=s[1],s[2]),j=s[3];return(1-j)*((1-F)*((1-v)*(b+(T-b)*u)+v*(P+(S-P)*u))+F*((1-v)*(O+(w-O)*u)+v*(L+(x-L)*u)))+j*((1-F)*((1-v)*(E+(M-E)*u)+v*(A+(I-A)*u))+F*((1-v)*(D+(C-D)*u)+v*(N+(R-N)*u)))}for(var B=1<<n,k=new Float32Array(B),V=0;V<B;V++){for(var U=V,G=1,Y=0;Y<n;Y++)G*=U%2==0?1-s[Y]:s[Y],U/=2;k[V]=G}for(var X=new Float32Array(B),z=0;z<B;z++)X[z]=i[o[z]];var H=0;for(z=0;z<B;z++)H+=k[z]*X[z];return H},T._$Vr=function(t,e,r,i,n,o,s,a){var l=e._$Q2(t,r),_=t._$vs(),c=t._$Tr();e._$zr(_,c,l);var u=2*i,h=s;if(l<=0){var f=n[_[0]];if(2==a&&0==s)x._$jT(f,0,o,0,u);else for(var p=0;p<u;)o[h]=f[p++],o[h+1]=f[p++],h+=a}else if(1==l){f=n[_[0]];var $=n[_[1]],d=1-(y=c[0]);for(p=0;p<u;)o[h]=f[p]*d+$[p]*y,++p,o[h+1]=f[p]*d+$[p]*y,++p,h+=a}else if(2==l){f=n[_[0]],$=n[_[1]];var m=n[_[2]],g=n[_[3]],y=c[0],v=(U=1-(D=c[1]))*(d=1-y),b=U*y,T=D*d,P=D*y;for(p=0;p<u;)o[h]=v*f[p]+b*$[p]+T*m[p]+P*g[p],++p,o[h+1]=v*f[p]+b*$[p]+T*m[p]+P*g[p],++p,h+=a}else if(3==l){var S=n[_[0]],O=n[_[1]],w=n[_[2]],L=n[_[3]],E=n[_[4]],M=n[_[5]],A=n[_[6]],I=n[_[7]],D=(y=c[0],c[1]),C=(G=1-(st=c[2]))*(U=1-D)*(d=1-y),N=G*U*y,R=G*D*d,F=G*D*y,j=st*U*d,B=st*U*y,k=st*D*d,V=st*D*y;for(p=0;p<u;)o[h]=C*S[p]+N*O[p]+R*w[p]+F*L[p]+j*E[p]+B*M[p]+k*A[p]+V*I[p],++p,o[h+1]=C*S[p]+N*O[p]+R*w[p]+F*L[p]+j*E[p]+B*M[p]+k*A[p]+V*I[p],++p,h+=a}else if(4==l){var U,G,Y=n[_[0]],X=n[_[1]],z=n[_[2]],H=n[_[3]],W=n[_[4]],q=n[_[5]],J=n[_[6]],Q=n[_[7]],Z=n[_[8]],K=n[_[9]],tt=n[_[10]],et=n[_[11]],rt=n[_[12]],it=n[_[13]],nt=n[_[14]],ot=n[_[15]],st=(y=c[0],D=c[1],c[2]),at=c[3],lt=1-at,_t=lt*(G=1-st)*(U=1-D)*(d=1-y),ct=lt*G*U*y,ut=lt*G*D*d,ht=lt*G*D*y,ft=lt*st*U*d,pt=lt*st*U*y,$t=lt*st*D*d,dt=lt*st*D*y,mt=at*G*U*d,gt=at*G*U*y,yt=at*G*D*d,vt=at*G*D*y,bt=at*st*U*d,Tt=at*st*U*y,Pt=at*st*D*d,St=at*st*D*y;for(p=0;p<u;)o[h]=_t*Y[p]+ct*X[p]+ut*z[p]+ht*H[p]+ft*W[p]+pt*q[p]+$t*J[p]+dt*Q[p]+mt*Z[p]+gt*K[p]+yt*tt[p]+vt*et[p]+bt*rt[p]+Tt*it[p]+Pt*nt[p]+St*ot[p],++p,o[h+1]=_t*Y[p]+ct*X[p]+ut*z[p]+ht*H[p]+ft*W[p]+pt*q[p]+$t*J[p]+dt*Q[p]+mt*Z[p]+gt*K[p]+yt*tt[p]+vt*et[p]+bt*rt[p]+Tt*it[p]+Pt*nt[p]+St*ot[p],++p,h+=a}else{for(var Ot=1<<l,wt=new Float32Array(Ot),Lt=0;Lt<Ot;Lt++){for(var xt=Lt,Et=1,Mt=0;Mt<l;Mt++)Et*=xt%2==0?1-c[Mt]:c[Mt],xt/=2;wt[Lt]=Et}for(var At=new Float32Array(Ot),It=0;It<Ot;It++)At[It]=n[_[It]];for(p=0;p<u;){var Dt=0,Ct=0,Nt=p+1;for(It=0;It<Ot;It++)Dt+=wt[It]*At[It][p],Ct+=wt[It]*At[It][Nt];p+=2,o[h]=Dt,o[h+1]=Ct,h+=a}}},P.prototype._$HT=function(t,e){this.x=t,this.y=e},P.prototype._$HT=function(t){this.x=t.x,this.y=t.y},S._$ur=-2,S._$ES=500,S._$wb=2,S._$8S=3,S._$52=S._$ES,S._$R2=S._$ES,S._$or=function(){return S._$52},S._$Pr=function(){return S._$R2},S.prototype.convertClipIDForV2_11=function(t){var e=[];return null==t||0==t.length?null:/,/.test(t)?e=t.id.split(","):(e.push(t.id),e)},S.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=B._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},S.prototype.getClipIDList=function(){return this.clipIDList},S.prototype.init=function(t){},S.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=T._$Z2(t,this._$GS,e._$IS,this._$Lb),at._$Zs);else if(e._$IS[0])return;e._$7s=T._$br(t,this._$GS,e._$IS,this._$mS)},S.prototype._$2b=function(t,e){},S.prototype.getDrawDataID=function(){return this._$gP},S.prototype._$j2=function(t){this._$gP=t},S.prototype.getOpacity=function(t,e){return e._$7s},S.prototype._$zS=function(t,e){return e._$Us},S.prototype._$MS=function(t){for(var e=t.length-1;e>=0;--e){var r=t[e];r<S._$52?S._$52=r:r>S._$R2&&(S._$R2=r)}},S.prototype.getTargetBaseDataID=function(){return this._$dr},S.prototype._$gs=function(t){this._$dr=t},S.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},S.prototype.preDraw=function(t,e,r){},S.prototype.draw=function(t,e,r){},S.prototype.getType=function(){},S.prototype._$B2=function(t,e,r){},O._$ps=32,O.CLIPPING_PROCESS_NONE=0,O.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,O.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,O.CLIPPING_PROCESS_DRAW=3,O.CLIPPING_PROCESS_CLEAR_ALPHA=4,O.prototype.setChannelFlagAsColor=function(t,e){this.CHANNEL_COLORS[t]=e},O.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},O.prototype._$ZT=function(){},O.prototype._$Uo=function(t,e,r,i,n,o,s){},O.prototype._$Rs=function(){return-1},O.prototype._$Ds=function(t){},O.prototype.setBaseColor=function(t,e,r,i){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._$lT=t,this._$C0=e,this._$tT=r,this._$WL=i},O.prototype._$WP=function(t){this.culling=t},O.prototype.setMatrix=function(t){for(var e=0;e<16;e++)this.matrix4x4[e]=t[e]},O.prototype._$IT=function(){return this.matrix4x4},O.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},O.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},O.prototype.setAnisotropy=function(t){this.anisotropy=t},O.prototype.getAnisotropy=function(){return this.anisotropy},O.prototype.getClippingProcess=function(){return this.clippingProcess},O.prototype.setClippingProcess=function(t){this.clippingProcess=t},O.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},O.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},O.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},O.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},L._$ur=-2,L._$c2=1,L._$_b=2,L.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},L.prototype.readV2_opacity=function(t){t.getFormatVersion()>=B.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},L.prototype.init=function(t){},L.prototype._$Nr=function(t,e){},L.prototype.interpolateOpacity=function(t,e,r,i){null==this._$mS?r.setInterpolatedOpacity(1):r.setInterpolatedOpacity(T._$br(t,e,i,this._$mS))},L.prototype._$2b=function(t,e){},L.prototype._$nb=function(t,e,r,i,n,o,s){},L.prototype.getType=function(){},L.prototype._$gs=function(t){this._$dr=t},L.prototype._$a2=function(t){this._$kP=t},L.prototype.getTargetBaseDataID=function(){return this._$dr},L.prototype.getBaseDataID=function(){return this._$kP},L.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},x._$W2=0,x._$CS=x._$W2,x._$Mo=function(){return!0},x._$XP=function(t){try{for(var e=getTimeMSec();getTimeMSec()-e<t;);}catch(t){t._$Rb()}},x.getUserTimeMSec=function(){return x._$CS==x._$W2?x.getSystemTimeMSec():x._$CS},x.setUserTimeMSec=function(t){x._$CS=t},x.updateUserTimeMSec=function(){return x._$CS=x.getSystemTimeMSec()},x.getTimeMSec=function(){return(new Date).getTime()},x.getSystemTimeMSec=function(){return(new Date).getTime()},x._$Q=function(t){},x._$jT=function(t,e,r,i,n){for(var o=0;o<n;o++)r[i+o]=t[e+o]},E._$ds=-2,E.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},E.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=E._$ds),this._$8o},E.prototype._$Pb=function(t,e){this._$8o=t,this._$2r=e},E.prototype.getParamID=function(){return this._$wL},E.prototype._$yP=function(t){this._$wL=t},E.prototype._$N2=function(){return this._$VP},E.prototype._$d2=function(){return this._$GP},E.prototype._$t2=function(t,e){this._$VP=t,this._$GP=e},E.prototype._$Lr=function(){return this._$O2},E.prototype._$wr=function(t){this._$O2=t},E.prototype._$SL=function(){return this._$ri},E.prototype._$AL=function(t){this._$ri=t},M.startsWith=function(t,e,r){var i=e+r.length;if(i>=t.length)return!1;for(var n=e;n<i;n++)if(M.getChar(t,n)!=r.charAt(n-e))return!1;return!0},M.getChar=function(t,e){return String.fromCharCode(t.getUint8(e))},M.createString=function(t,e,r){for(var i=new ArrayBuffer(2*r),n=new Uint16Array(i),o=0;o<r;o++)n[o]=t.getUint8(e+o);return String.fromCharCode.apply(null,n)},M._$LS=function(t,e,r,i){t instanceof ArrayBuffer&&(t=new DataView(t));var n=r,o=!1,s=!1,a=0,l=M.getChar(t,n);"-"==l&&(o=!0,n++);for(var _=!1;n<e;n++){switch(l=M.getChar(t,n)){case"0":a*=10;break;case"1":a=10*a+1;break;case"2":a=10*a+2;break;case"3":a=10*a+3;break;case"4":a=10*a+4;break;case"5":a=10*a+5;break;case"6":a=10*a+6;break;case"7":a=10*a+7;break;case"8":a=10*a+8;break;case"9":a=10*a+9;break;case".":s=!0,n++,_=!0;break;default:_=!0}if(_)break}if(s)for(var c=.1,u=!1;n<e;n++){switch(l=M.getChar(t,n)){case"0":break;case"1":a+=1*c;break;case"2":a+=2*c;break;case"3":a+=3*c;break;case"4":a+=4*c;break;case"5":a+=5*c;break;case"6":a+=6*c;break;case"7":a+=7*c;break;case"8":a+=8*c;break;case"9":a+=9*c;break;default:u=!0}if(c*=.1,u)break}return o&&(a=-a),i[0]=n,a},A.prototype._$zP=function(){this._$Ob=new Array},A.prototype._$F0=function(t){this._$Ob=t._$nP()},A.prototype._$Ur=function(t){if(t._$WS())return!0;for(var e=t._$v2(),r=this._$Ob.length-1;r>=0;--r){var i=this._$Ob[r].getParamIndex(e);if(i==E._$ds&&(i=t.getParamIndex(this._$Ob[r].getParamID())),t._$Xb(i))return!0}return!1},A.prototype._$Q2=function(t,e){for(var r,i,n=this._$Ob.length,o=t._$v2(),s=0,a=0;a<n;a++){var l=this._$Ob[a];if((r=l.getParamIndex(o))==E._$ds&&(r=t.getParamIndex(l.getParamID()),l._$Pb(r,o)),r<0)throw new Exception("err 23242 : "+l.getParamID());var _=r<0?0:t.getParamFloat(r);i=l._$N2();var c,u,h=l._$d2(),f=-1,p=0;if(i<1);else if(1==i)(c=h[0])-j._$J<_&&_<c+j._$J?(f=0,p=0):(f=0,e[0]=!0);else if(_<(c=h[0])-j._$J)f=0,e[0]=!0;else if(_<c+j._$J)f=0;else{for(var $=!1,d=1;d<i;++d){if(_<(u=h[d])+j._$J){u-j._$J<_?f=d:(f=d-1,p=(_-c)/(u-c),s++),$=!0;break}c=u}$||(f=i-1,p=0,e[0]=!0)}l._$wr(f),l._$AL(p)}return s},A.prototype._$zr=function(t,e,r){var i=1<<r;i+1>j._$Qb&&console.log("err 23245\n");for(var n=this._$Ob.length,o=1,s=1,a=0,l=0;l<i;++l)t[l]=0;for(var _=0;_<n;++_){var c=this._$Ob[_];if(0==c._$SL()){if((u=c._$Lr()*o)<0&&at._$3T)throw new Exception("err 23246");for(l=0;l<i;++l)t[l]+=u}else{var u=o*c._$Lr(),h=o*(c._$Lr()+1);for(l=0;l<i;++l)t[l]+=(l/s|0)%2==0?u:h;e[a++]=c._$SL(),s*=2}o*=c._$N2()}t[i]=65535,e[a]=-1},A.prototype._$h2=function(t,e,r){for(var i=new Float32Array(e),n=0;n<e;++n)i[n]=r[n];var o=new E;o._$yP(t),o._$t2(e,i),this._$Ob.push(o)},A.prototype._$J2=function(t){for(var e=t,r=this._$Ob.length,i=0;i<r;++i){var n=this._$Ob[i],o=n._$N2(),s=e%n._$N2(),a=n._$d2()[s];console.log("%s[%d]=%7.2f / ",n.getParamID(),s,a),e/=o}console.log("\n")},A.prototype.getParamCount=function(){return this._$Ob.length},A.prototype._$zs=function(){return this._$Ob},I.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},I.prototype.getArray=function(){return this.m},I.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},I.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var e=0;e<16;e++)this.m[e]=t[e]},I.prototype.mult=function(t,e,r){return null==e?null:(this==e?this.mult_safe(this.m,t.m,e.m,r):this.mult_fast(this.m,t.m,e.m,r),e)},I.prototype.mult_safe=function(t,e,r,i){if(t==r){var n=new Array(16);this.mult_fast(t,e,n,i);for(var o=15;o>=0;--o)r[o]=n[o]}else this.mult_fast(t,e,r,i)},I.prototype.mult_fast=function(t,e,r,i){i?(r[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2],r[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6],r[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10],r[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],r[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2],r[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6],r[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10],r[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],r[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2],r[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6],r[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10],r[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],r[3]=r[7]=r[11]=0,r[15]=1):(r[0]=t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],r[4]=t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],r[8]=t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],r[12]=t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],r[1]=t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],r[5]=t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],r[9]=t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],r[13]=t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],r[2]=t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],r[6]=t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],r[10]=t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],r[14]=t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],r[3]=t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],r[7]=t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],r[11]=t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],r[15]=t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15])},I.prototype.translate=function(t,e,r){this.m[12]=this.m[0]*t+this.m[4]*e+this.m[8]*r+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*e+this.m[9]*r+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*e+this.m[10]*r+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*e+this.m[11]*r+this.m[15]},I.prototype.scale=function(t,e,r){this.m[0]*=t,this.m[4]*=e,this.m[8]*=r,this.m[1]*=t,this.m[5]*=e,this.m[9]*=r,this.m[2]*=t,this.m[6]*=e,this.m[10]*=r,this.m[3]*=t,this.m[7]*=e,this.m[11]*=r},I.prototype.rotateX=function(t){var e=Pt.fcos(t),r=Pt._$9(t),i=this.m[4];this.m[4]=i*e+this.m[8]*r,this.m[8]=i*-r+this.m[8]*e,i=this.m[5],this.m[5]=i*e+this.m[9]*r,this.m[9]=i*-r+this.m[9]*e,i=this.m[6],this.m[6]=i*e+this.m[10]*r,this.m[10]=i*-r+this.m[10]*e,i=this.m[7],this.m[7]=i*e+this.m[11]*r,this.m[11]=i*-r+this.m[11]*e},I.prototype.rotateY=function(t){var e=Pt.fcos(t),r=Pt._$9(t),i=this.m[0];this.m[0]=i*e+this.m[8]*-r,this.m[8]=i*r+this.m[8]*e,i=this.m[1],this.m[1]=i*e+this.m[9]*-r,this.m[9]=i*r+this.m[9]*e,i=m[2],this.m[2]=i*e+this.m[10]*-r,this.m[10]=i*r+this.m[10]*e,i=m[3],this.m[3]=i*e+this.m[11]*-r,this.m[11]=i*r+this.m[11]*e},I.prototype.rotateZ=function(t){var e=Pt.fcos(t),r=Pt._$9(t),i=this.m[0];this.m[0]=i*e+this.m[4]*r,this.m[4]=i*-r+this.m[4]*e,i=this.m[1],this.m[1]=i*e+this.m[5]*r,this.m[5]=i*-r+this.m[5]*e,i=this.m[2],this.m[2]=i*e+this.m[6]*r,this.m[6]=i*-r+this.m[6]*e,i=this.m[3],this.m[3]=i*e+this.m[7]*r,this.m[7]=i*-r+this.m[7]*e},D.prototype=new rt,D._$tP=new Object,D._$27=function(){D._$tP.clear()},D.getID=function(t){var e=D._$tP[t];return null==e&&(e=new D(t),D._$tP[t]=e),e},D.prototype._$3s=function(){return new D},C._$kS=-1,C._$pS=0,C._$hb=1,C.STATE_IDENTITY=0,C._$gb=1,C._$fo=2,C._$go=4,C.prototype.transform=function(t,e,r){var i,n,o,s,a,l,_=0,c=0;switch(this._$hi){default:return;case C._$go|C._$fo|C._$gb:for(i=this._$7,n=this._$H,o=this._$k,s=this._$f,a=this._$g,l=this._$w;--r>=0;){var u=t[_++],h=t[_++];e[c++]=i*u+n*h+o,e[c++]=s*u+a*h+l}return;case C._$go|C._$fo:for(i=this._$7,n=this._$H,s=this._$f,a=this._$g;--r>=0;)u=t[_++],h=t[_++],e[c++]=i*u+n*h,e[c++]=s*u+a*h;return;case C._$go|C._$gb:for(n=this._$H,o=this._$k,s=this._$f,l=this._$w;--r>=0;)u=t[_++],e[c++]=n*t[_++]+o,e[c++]=s*u+l;return;case C._$go:for(n=this._$H,s=this._$f;--r>=0;)u=t[_++],e[c++]=n*t[_++],e[c++]=s*u;return;case C._$fo|C._$gb:for(i=this._$7,o=this._$k,a=this._$g,l=this._$w;--r>=0;)e[c++]=i*t[_++]+o,e[c++]=a*t[_++]+l;return;case C._$fo:for(i=this._$7,a=this._$g;--r>=0;)e[c++]=i*t[_++],e[c++]=a*t[_++];return;case C._$gb:for(o=this._$k,l=this._$w;--r>=0;)e[c++]=t[_++]+o,e[c++]=t[_++]+l;return;case C.STATE_IDENTITY:return void(t==e&&_==c||x._$jT(t,_,e,c,2*r))}},C.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=C.STATE_IDENTITY,this._$Z=C._$pS):(this._$hi=C._$gb,this._$Z=C._$hb):0==this._$k&&0==this._$w?(this._$hi=C._$fo,this._$Z=C._$kS):(this._$hi=C._$fo|C._$gb,this._$Z=C._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=C._$go,this._$Z=C._$kS):(this._$hi=C._$go|C._$gb,this._$Z=C._$kS):0==this._$k&&0==this._$w?(this._$hi=C._$go|C._$fo,this._$Z=C._$kS):(this._$hi=C._$go|C._$fo|C._$gb,this._$Z=C._$kS)},C.prototype._$RT=function(t){this._$IT(t);var e=t[0],r=t[2],i=t[1],n=t[3],o=Math.sqrt(e*e+i*i),s=e*n-r*i;0==o?at._$so&&console.log("affine._$RT() / rt==0"):(t[0]=o,t[1]=s/o,t[2]=(i*n+e*r)/s,t[3]=Math.atan2(i,e))},C.prototype._$ho=function(t,e,r,i){var n=new Float32Array(6),o=new Float32Array(6);t._$RT(n),e._$RT(o);var s=new Float32Array(6);s[0]=n[0]+(o[0]-n[0])*r,s[1]=n[1]+(o[1]-n[1])*r,s[2]=n[2]+(o[2]-n[2])*r,s[3]=n[3]+(o[3]-n[3])*r,s[4]=n[4]+(o[4]-n[4])*r,s[5]=n[5]+(o[5]-n[5])*r,i._$CT(s)},C.prototype._$CT=function(t){var e=Math.cos(t[3]),r=Math.sin(t[3]);this._$7=t[0]*e,this._$f=t[0]*r,this._$H=t[1]*(t[2]*e-r),this._$g=t[1]*(t[2]*r+e),this._$k=t[4],this._$w=t[5],this.update()},C.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},N.prototype=new s,N._$cs="VISIBLE:",N._$ar="LAYOUT:",N._$Co=0,N._$D2=[],N._$1T=1,N.loadMotion=function(t){var e=new N,r=[0],i=t.length;e._$yT=0;for(var n=0;n<i;++n){var o=255&t[n];if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if("a"<=o&&o<="z"||"A"<=o&&o<="Z"||"_"==o){for(_=n,c=-1;n<i&&"\r"!=(o=255&t[n])&&"\n"!=o;++n)if("="==o){c=n;break}if(c>=0){var s=new F;M.startsWith(t,_,N._$cs)?(s._$RP=F._$hs,s._$4P=new String(t,_,c-_)):M.startsWith(t,_,N._$ar)?(s._$4P=new String(t,_+7,c-_-7),M.startsWith(t,_+7,"ANCHOR_X")?s._$RP=F._$xs:M.startsWith(t,_+7,"ANCHOR_Y")?s._$RP=F._$us:M.startsWith(t,_+7,"SCALE_X")?s._$RP=F._$qs:M.startsWith(t,_+7,"SCALE_Y")?s._$RP=F._$Ys:M.startsWith(t,_+7,"X")?s._$RP=F._$ws:M.startsWith(t,_+7,"Y")&&(s._$RP=F._$Ns)):(s._$RP=F._$Fr,s._$4P=new String(t,_,c-_)),e.motions.push(s);var a=0;for(N._$D2.clear(),n=c+1;n<i&&"\r"!=(o=255&t[n])&&"\n"!=o;++n)if(","!=o&&" "!=o&&"\t"!=o&&(h=M._$LS(t,i,n,r),r[0]>0)){N._$D2.push(h),a++;var l=r[0];if(l<n){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}n=l}s._$I0=N._$D2._$BL(),a>e._$yT&&(e._$yT=a)}}}else{for(var _=n,c=-1;n<i&&"\r"!=(o=255&t[n])&&"\n"!=o;++n)if("="==o){c=n;break}var u=!1;if(c>=0)for(c==_+4&&"f"==t[_+1]&&"p"==t[_+2]&&"s"==t[_+3]&&(u=!0),n=c+1;n<i&&"\r"!=(o=255&t[n])&&"\n"!=o;++n)if(","!=o&&" "!=o&&"\t"!=o){var h=M._$LS(t,i,n,r);r[0]>0&&u&&5<h&&h<121&&(e._$D0=h),n=r[0]}for(;n<i&&"\n"!=t[n]&&"\r"!=t[n];++n);}else for(;n<i&&"\n"!=t[n]&&"\r"!=t[n];++n);}return e._$AS=1e3*e._$yT/e._$D0|0,e},N.prototype.getDurationMSec=function(){return this._$AS},N.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var r=0;r<e._$I0.length&&r<10;r++)console.log("%5.2f ,",e._$I0[r]);console.log("\n")}},N.prototype.updateParamExe=function(t,e,r,i){for(var n=(e-i._$z2)*this._$D0/1e3,o=0|n,s=n-o,a=0;a<this.motions.length;a++){var l=this.motions[a],_=l._$I0.length,c=l._$4P;if(l._$RP==F._$hs){var u=l._$I0[o>=_?_-1:o];t.setParamFloat(c,u)}else if(F._$ws<=l._$RP&&l._$RP<=F._$Ys);else{var h=t.getParamFloat(c),f=l._$I0[o>=_?_-1:o],p=h+(f+(l._$I0[o+1>=_?_-1:o+1]-f)*s-h)*r;t.setParamFloat(c,p)}}o>=this._$yT&&(this._$E?(i._$z2=e,this.loopFadeIn&&(i._$bs=e)):i._$9L=!0)},N.prototype._$r0=function(){return this._$E},N.prototype._$aL=function(t){this._$E=t},N.prototype.isLoopFadeIn=function(){return this.loopFadeIn},N.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},R.prototype.clear=function(){this.size=0},R.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);x._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},R.prototype._$BL=function(){var t=new Float32Array(this.size);return x._$jT(this._$P,0,t,0,this.size),t},F._$Fr=0,F._$hs=1,F._$ws=100,F._$Ns=101,F._$xs=102,F._$us=103,F._$qs=104,F._$Ys=105,j._$Ms=1,j._$Qs=2,j._$i2=0,j._$No=2,j._$do=j._$Ms,j._$Ls=!0,j._$1r=5,j._$Qb=65,j._$J=1e-4,j._$FT=.001,j._$Ss=3,B._$o7=6,B._$S7=7,B._$s7=8,B._$77=9,B.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,B.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,B._$T7=B.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,B._$Is=-2004318072,B._$h0=0,B._$4L=23,B._$7P=33,B._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},B._$9o=function(t){if(t<40)return B._$uT(t),null;if(t<50)return B._$uT(t),null;if(t<60)return B._$uT(t),null;if(t<100)switch(t){case 65:return new Z;case 66:return new A;case 67:return new E;case 68:return new X;case 69:return new y;case 70:return new ct;default:return B._$uT(t),null}else if(t<150)switch(t){case 131:return new ot;case 133:return new tt;case 136:return new u;case 137:return new it;case 142:return new W}return B._$uT(t),null},k._$HP=0,k._$_0=!0,k._$V2=-1,k._$W0=-1,k._$jr=!1,k._$ZS=!0,k._$tr=-1e6,k._$lr=1e6,k._$is=32,k._$e=!1,k.prototype.getDrawDataIndex=function(t){for(var e=this._$aS.length-1;e>=0;--e)if(null!=this._$aS[e]&&this._$aS[e].getDrawDataID()==t)return e;return-1},k.prototype.getDrawData=function(t){if(t instanceof D){if(null==this._$Bo){this._$Bo=new Object;for(var e=this._$aS.length,r=0;r<e;r++){var i=this._$aS[r],n=i.getDrawDataID();null!=n&&(this._$Bo[n]=i)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},k.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},k.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),e=t._$Xr(),r=e.length,i=new Array,o=new Array,s=0;s<r;++s){var a=e[s];this._$F2.push(a),this._$Hr.push(a.init(this));for(var l=a.getBaseData(),_=l.length,c=0;c<_;++c)i.push(l[c]);for(c=0;c<_;++c){var u=l[c].init(this);u._$l2(s),o.push(u)}var h=a.getDrawData(),f=h.length;for(c=0;c<f;++c){var p=h[c],$=p.init(this);$._$IP=s,this._$aS.push(p),this._$8b.push($)}}for(var d=i.length,m=mt._$2o();;){var g=!1;for(s=0;s<d;++s){var y=i[s];if(null!=y){var v=y.getTargetBaseDataID();(null==v||v==m||this.getBaseDataIndex(v)>=0)&&(this._$3S.push(y),this._$db.push(o[s]),i[s]=null,g=!0)}}if(!g)break}var b=t._$E2();if(null!=b){var T=b._$1s();if(null!=T){var P=T.length;for(s=0;s<P;++s){var S=T[s];null!=S&&this._$02(S.getParamID(),S.getDefaultValue(),S.getMinValue(),S.getMaxValue())}}}this.clipManager=new n(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},k.prototype.update=function(){k._$e&&a.start("_$zL");for(var t=this._$_2.length,e=0;e<t;e++)this._$_2[e]!=this._$vr[e]&&(this._$Js[e]=k._$ZS,this._$vr[e]=this._$_2[e]);var r=this._$3S.length,i=this._$aS.length,n=H._$or(),o=H._$Pr()-n+1;for((null==this._$Ws||this._$Ws.length<o)&&(this._$Ws=new Int16Array(o),this._$Vs=new Int16Array(o)),e=0;e<o;e++)this._$Ws[e]=k._$V2,this._$Vs[e]=k._$V2;for((null==this._$Er||this._$Er.length<i)&&(this._$Er=new Int16Array(i)),e=0;e<i;e++)this._$Er[e]=k._$W0;k._$e&&a.dump("_$zL"),k._$e&&a.start("_$UL");for(var s=null,l=0;l<r;++l){var _=this._$3S[l],c=this._$db[l];try{_._$Nr(this,c),_._$2b(this,c)}catch(t){null==s&&(s=t)}}null!=s&&k._$_0&&a._$Rb(s),k._$e&&a.dump("_$UL"),k._$e&&a.start("_$DL");for(var u=null,h=0;h<i;++h){var f=this._$aS[h],p=this._$8b[h];try{if(f._$Nr(this,p),p._$u2())continue;f._$2b(this,p);var $,d=Math.floor(f._$zS(this,p)-n);try{$=this._$Vs[d]}catch(t){console.log("_$li :: %s / %s        @@_$fS\n",t.toString(),f.getDrawDataID().toString()),d=Math.floor(f._$zS(this,p)-n);continue}$==k._$V2?this._$Ws[d]=h:this._$Er[$]=h,this._$Vs[d]=h}catch(t){null==u&&(u=t,at._$sT(at._$H7))}}for(null!=u&&k._$_0&&a._$Rb(u),k._$e&&a.dump("_$DL"),k._$e&&a.start("_$eL"),e=this._$Js.length-1;e>=0;e--)this._$Js[e]=k._$jr;return this._$QT=!1,k._$e&&a.dump("_$eL"),!1},k.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},k.prototype.draw=function(t){if(null!=this._$Ws){var e=this._$Ws.length;t._$ZT();for(var r=0;r<e;++r){var i=this._$Ws[r];if(i!=k._$V2)for(;;){var n=this._$aS[i],o=this._$8b[i];if(o._$yo()){var s=o._$IP,l=this._$Hr[s];o._$VS=l.getPartsOpacity(),n.draw(t,this,o)}var _=this._$Er[i];if(_<=i||_==k._$W0)break;i=_}}}else a._$li("call _$Ri.update() before _$Ri.draw() ")},k.prototype.getParamIndex=function(t){for(var e=this._$pb.length-1;e>=0;--e)if(this._$pb[e]==t)return e;return this._$02(t,0,k._$tr,k._$lr)},k.prototype._$BS=function(t){return this.getBaseDataIndex(t)},k.prototype.getBaseDataIndex=function(t){for(var e=this._$3S.length-1;e>=0;--e)if(null!=this._$3S[e]&&this._$3S[e].getBaseDataID()==t)return e;return-1},k.prototype._$UT=function(t,e){var r=new Float32Array(e);return x._$jT(t,0,r,0,t.length),r},k.prototype._$02=function(t,e,r,i){if(this._$qo>=this._$pb.length){var n=this._$pb.length,o=new Array(2*n);x._$jT(this._$pb,0,o,0,n),this._$pb=o,this._$_2=this._$UT(this._$_2,2*n),this._$vr=this._$UT(this._$vr,2*n),this._$Rr=this._$UT(this._$Rr,2*n),this._$Or=this._$UT(this._$Or,2*n);var s=new Array;x._$jT(this._$Js,0,s,0,n),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=e,this._$vr[this._$qo]=e,this._$Rr[this._$qo]=r,this._$Or[this._$qo]=i,this._$Js[this._$qo]=k._$ZS,this._$qo++},k.prototype._$Zo=function(t,e){this._$3S[t]=e},k.prototype.setParamFloat=function(t,e){e<this._$Rr[t]&&(e=this._$Rr[t]),e>this._$Or[t]&&(e=this._$Or[t]),this._$_2[t]=e},k.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),x._$jT(this._$fs,0,this._$_2,0,t)},k.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),x._$jT(this._$_2,0,this._$fs,0,t)},k.prototype._$v2=function(){return this._$co},k.prototype._$WS=function(){return this._$QT},k.prototype._$Xb=function(t){return this._$Js[t]==k._$ZS},k.prototype._$vs=function(){return this._$Es},k.prototype._$Tr=function(){return this._$ZP},k.prototype.getBaseData=function(t){return this._$3S[t]},k.prototype.getParamFloat=function(t){return this._$_2[t]},k.prototype.getParamMax=function(t){return this._$Or[t]},k.prototype.getParamMin=function(t){return this._$Rr[t]},k.prototype.setPartsOpacity=function(t,e){this._$Hr[t].setPartsOpacity(e)},k.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},k.prototype.getPartsDataIndex=function(t){for(var e=this._$F2.length-1;e>=0;--e)if(null!=this._$F2[e]&&this._$F2[e]._$p2()==t)return e;return-1},k.prototype._$q2=function(t){return this._$db[t]},k.prototype._$C2=function(t){return this._$8b[t]},k.prototype._$Bb=function(t){return this._$Hr[t]},k.prototype._$5s=function(t,e){for(var r=this._$Ws.length,i=t,n=0;n<r;++n){var o=this._$Ws[n];if(o!=k._$V2)for(;;){var s=this._$8b[o];s._$yo()&&(s._$GT()._$B2(this,s,i),i+=e);var a=this._$Er[o];if(a<=o||a==k._$W0)break;o=a}}},k.prototype.setDrawParam=function(t){this.dp_webgl=t},k.prototype.getDrawParam=function(){return this.dp_webgl},V._$0T=function(t){return V._$0T(new _$5(t))},V._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var e,r=t.length(),i=new Int8Array(r),n=new _$Xs(new _$kb(t),8192),o=0;(e=n.read(i,o,r-o))>0;)o+=e;return i},V._$C=function(t){var e=null,r=null;try{e=t instanceof Array?t:new _$Xs(t,8192),r=new _$js;for(var i,n=new Int8Array(1e3);(i=e.read(n))>0;)r.write(n,0,i);return r._$TS()}finally{null!=t&&t.close(),null!=r&&(r.flush(),r.close())}},U.prototype._$T2=function(){return x.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},U.prototype._$uo=function(t){this._$Br=t},U.prototype._$QS=function(t,e,r){this._$Dr=t,this._$Cb=e,this._$mr=r},U.prototype._$7T=function(t){var e,r=x.getUserTimeMSec(),i=0;switch(this._$_L){case STATE_CLOSING:(i=(r-this._$bb)/this._$Dr)>=1&&(i=1,this._$_L=G.STATE_CLOSED,this._$bb=r),e=1-i;break;case STATE_CLOSED:(i=(r-this._$bb)/this._$Cb)>=1&&(this._$_L=G.STATE_OPENING,this._$bb=r),e=0;break;case STATE_OPENING:(i=(r-this._$bb)/this._$mr)>=1&&(i=1,this._$_L=G.STATE_INTERVAL,this._$12=this._$T2()),e=i;break;case STATE_INTERVAL:this._$12<r&&(this._$_L=G.STATE_CLOSING,this._$bb=r),e=1;break;case STATE_FIRST:default:this._$_L=G.STATE_INTERVAL,this._$12=this._$T2(),e=1}this._$jo||(e=-e),t.setParamFloat(this._$iL,e),t.setParamFloat(this._$0L,e)};var G=function(){};function Y(){r||(O.prototype.constructor.call(this),this._$sb=new Int32Array(Y._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==Y._$NT&&(Y._$NT=Y._$9r(256),Y._$vS=Y._$9r(256),Y._$no=Y._$vb(256)))}function X(){r||(L.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function z(t){st.prototype.constructor.call(this,t),this._$8r=L._$ur,this._$Yr=null,this._$Wr=null}function H(){r||(S.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function W(){r||(this._$NL=null,this._$3S=null,this._$aS=null,W._$42++)}function q(){r||(i.prototype.constructor.call(this),this._$zo=new Y)}function J(){r||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=J._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Q(t,e){return String.fromCharCode(t.getUint8(e))}function R(){this._$P=new Float32Array(100),this.size=0}function F(){this._$4P=null,this._$I0=null,this._$RP=null}function Z(){r||(L.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function K(t){st.prototype.constructor.call(this,t),this._$8r=L._$ur,this._$Cr=null,this._$hr=null}function tt(){r||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,tt._$42++)}function et(t){this._$VS=null,this._$e0=null,this._$e0=t}function rt(t){r||(this.id=t)}function it(){r||(this._$4S=null)}function nt(t,e){this.canvas=t,this.context=e,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function ot(){r||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function st(t){r||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function at(){}function lt(){}function _t(t){r||(this._$ib=t)}function ct(){r||(H.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=ct._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=ct._$42++)}function ut(t){St.prototype.constructor.call(this,t),this._$8r=H._$ur,this._$Cr=null,this._$hr=null}function ht(){r||(this.x=null,this.y=null)}function ft(t){r||(i.prototype.constructor.call(this),this.drawParamWebGL=new gt(t),this.drawParamWebGL.setGL(at.getGL(t)))}function pt(){r||(this.motions=null,this._$eb=!1,this.motions=new Array)}function $t(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=$t._$Gs++}function dt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function mt(t){r||rt.prototype.constructor.call(this,t)}function gt(t){r||(O.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function yt(t,e,r){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,r,t.DYNAMIC_DRAW),e}function vt(t,e,r){return null==e&&(e=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.DYNAMIC_DRAW),e}function bt(t){r||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}G.STATE_FIRST="STATE_FIRST",G.STATE_INTERVAL="STATE_INTERVAL",G.STATE_CLOSING="STATE_CLOSING",G.STATE_CLOSED="STATE_CLOSED",G.STATE_OPENING="STATE_OPENING",Y.prototype=new O,Y._$As=32,Y._$Gr=!1,Y._$NT=null,Y._$vS=null,Y._$no=null,Y._$9r=function(t){return new Float32Array(t)},Y._$vb=function(t){return new Int16Array(t)},Y._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=Y._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},Y._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=Y._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},Y._$Hs=function(){return Y._$Gr},Y._$as=function(t){Y._$Gr=t},Y.prototype.setGL=function(t){this.gl=t},Y.prototype.setTransform=function(t){this.transform=t},Y.prototype._$ZT=function(){},Y.prototype._$Uo=function(t,e,r,i,n,o,s,a){if(!(o<.01)){var l=this._$U2[t],_=o>.9?at.EXPAND_W:0;this.gl.drawElements(l,r,i,n,o,_,this.transform,a)}},Y.prototype._$Rs=function(){throw new Error("_$Rs")},Y.prototype._$Ds=function(t){throw new Error("_$Ds")},Y.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++)0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)},Y.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=e},Y.prototype.setTexture=function(t,e){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=e},Y.prototype._$nS=function(t){var e=Math.max(2*this._$sb.length,t+1+10),r=new Int32Array(e);x._$jT(this._$sb,0,r,0,this._$sb.length),this._$sb=r;var i=new Array;x._$jT(this._$U2,0,i,0,this._$U2.length),this._$U2=i},X.prototype=new L,X._$Xo=new Float32Array(2),X._$io=new Float32Array(2),X._$0o=new Float32Array(2),X._$Lo=new Float32Array(2),X._$To=new Float32Array(2),X._$Po=new Float32Array(2),X._$gT=new Array,X.prototype._$zP=function(){this._$GS=new A,this._$GS._$zP(),this._$Y0=new Array},X.prototype.getType=function(){return L._$c2},X.prototype._$F0=function(t){L.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),L.prototype.readV2_opacity.call(this,t)},X.prototype.init=function(t){var e=new z(this);return e._$Yr=new y,this._$32()&&(e._$Wr=new y),e},X.prototype._$Nr=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var r=e;if(this._$GS._$Ur(t)){var i=X._$gT;i[0]=!1;var n=this._$GS._$Q2(t,i);e._$Ib(i[0]),this.interpolateOpacity(t,this._$GS,e,i);var o=t._$vs(),s=t._$Tr();if(this._$GS._$zr(o,s,n),n<=0){var a=this._$Y0[o[0]];r._$Yr.init(a)}else if(1==n){a=this._$Y0[o[0]];var l=this._$Y0[o[1]],_=s[0];r._$Yr._$fL=a._$fL+(l._$fL-a._$fL)*_,r._$Yr._$gL=a._$gL+(l._$gL-a._$gL)*_,r._$Yr._$B0=a._$B0+(l._$B0-a._$B0)*_,r._$Yr._$z0=a._$z0+(l._$z0-a._$z0)*_,r._$Yr._$qT=a._$qT+(l._$qT-a._$qT)*_}else if(2==n){a=this._$Y0[o[0]],l=this._$Y0[o[1]];var c=this._$Y0[o[2]],u=this._$Y0[o[3]],h=(_=s[0],s[1]),f=a._$fL+(l._$fL-a._$fL)*_,p=c._$fL+(u._$fL-c._$fL)*_;r._$Yr._$fL=f+(p-f)*h,f=a._$gL+(l._$gL-a._$gL)*_,p=c._$gL+(u._$gL-c._$gL)*_,r._$Yr._$gL=f+(p-f)*h,f=a._$B0+(l._$B0-a._$B0)*_,p=c._$B0+(u._$B0-c._$B0)*_,r._$Yr._$B0=f+(p-f)*h,f=a._$z0+(l._$z0-a._$z0)*_,p=c._$z0+(u._$z0-c._$z0)*_,r._$Yr._$z0=f+(p-f)*h,f=a._$qT+(l._$qT-a._$qT)*_,p=c._$qT+(u._$qT-c._$qT)*_,r._$Yr._$qT=f+(p-f)*h}else if(3==n){var $=this._$Y0[o[0]],d=this._$Y0[o[1]],m=this._$Y0[o[2]],g=this._$Y0[o[3]],y=this._$Y0[o[4]],v=this._$Y0[o[5]],b=this._$Y0[o[6]],T=this._$Y0[o[7]],P=(_=s[0],h=s[1],s[2]),S=(f=$._$fL+(d._$fL-$._$fL)*_,p=m._$fL+(g._$fL-m._$fL)*_,y._$fL+(v._$fL-y._$fL)*_),O=b._$fL+(T._$fL-b._$fL)*_;r._$Yr._$fL=(1-P)*(f+(p-f)*h)+P*(S+(O-S)*h),f=$._$gL+(d._$gL-$._$gL)*_,p=m._$gL+(g._$gL-m._$gL)*_,S=y._$gL+(v._$gL-y._$gL)*_,O=b._$gL+(T._$gL-b._$gL)*_,r._$Yr._$gL=(1-P)*(f+(p-f)*h)+P*(S+(O-S)*h),f=$._$B0+(d._$B0-$._$B0)*_,p=m._$B0+(g._$B0-m._$B0)*_,S=y._$B0+(v._$B0-y._$B0)*_,O=b._$B0+(T._$B0-b._$B0)*_,r._$Yr._$B0=(1-P)*(f+(p-f)*h)+P*(S+(O-S)*h),f=$._$z0+(d._$z0-$._$z0)*_,p=m._$z0+(g._$z0-m._$z0)*_,S=y._$z0+(v._$z0-y._$z0)*_,O=b._$z0+(T._$z0-b._$z0)*_,r._$Yr._$z0=(1-P)*(f+(p-f)*h)+P*(S+(O-S)*h),f=$._$qT+(d._$qT-$._$qT)*_,p=m._$qT+(g._$qT-m._$qT)*_,S=y._$qT+(v._$qT-y._$qT)*_,O=b._$qT+(T._$qT-b._$qT)*_,r._$Yr._$qT=(1-P)*(f+(p-f)*h)+P*(S+(O-S)*h)}else if(4==n){var w=this._$Y0[o[0]],L=this._$Y0[o[1]],x=this._$Y0[o[2]],E=this._$Y0[o[3]],M=this._$Y0[o[4]],A=this._$Y0[o[5]],I=this._$Y0[o[6]],D=this._$Y0[o[7]],C=this._$Y0[o[8]],N=this._$Y0[o[9]],R=this._$Y0[o[10]],F=this._$Y0[o[11]],j=this._$Y0[o[12]],B=this._$Y0[o[13]],k=this._$Y0[o[14]],V=this._$Y0[o[15]],U=(_=s[0],h=s[1],P=s[2],s[3]),G=(f=w._$fL+(L._$fL-w._$fL)*_,p=x._$fL+(E._$fL-x._$fL)*_,S=M._$fL+(A._$fL-M._$fL)*_,O=I._$fL+(D._$fL-I._$fL)*_,C._$fL+(N._$fL-C._$fL)*_),Y=R._$fL+(F._$fL-R._$fL)*_,z=j._$fL+(B._$fL-j._$fL)*_,H=k._$fL+(V._$fL-k._$fL)*_;r._$Yr._$fL=(1-U)*((1-P)*(f+(p-f)*h)+P*(S+(O-S)*h))+U*((1-P)*(G+(Y-G)*h)+P*(z+(H-z)*h)),f=w._$gL+(L._$gL-w._$gL)*_,p=x._$gL+(E._$gL-x._$gL)*_,S=M._$gL+(A._$gL-M._$gL)*_,O=I._$gL+(D._$gL-I._$gL)*_,G=C._$gL+(N._$gL-C._$gL)*_,Y=R._$gL+(F._$gL-R._$gL)*_,z=j._$gL+(B._$gL-j._$gL)*_,H=k._$gL+(V._$gL-k._$gL)*_,r._$Yr._$gL=(1-U)*((1-P)*(f+(p-f)*h)+P*(S+(O-S)*h))+U*((1-P)*(G+(Y-G)*h)+P*(z+(H-z)*h)),f=w._$B0+(L._$B0-w._$B0)*_,p=x._$B0+(E._$B0-x._$B0)*_,S=M._$B0+(A._$B0-M._$B0)*_,O=I._$B0+(D._$B0-I._$B0)*_,G=C._$B0+(N._$B0-C._$B0)*_,Y=R._$B0+(F._$B0-R._$B0)*_,z=j._$B0+(B._$B0-j._$B0)*_,H=k._$B0+(V._$B0-k._$B0)*_,r._$Yr._$B0=(1-U)*((1-P)*(f+(p-f)*h)+P*(S+(O-S)*h))+U*((1-P)*(G+(Y-G)*h)+P*(z+(H-z)*h)),f=w._$z0+(L._$z0-w._$z0)*_,p=x._$z0+(E._$z0-x._$z0)*_,S=M._$z0+(A._$z0-M._$z0)*_,O=I._$z0+(D._$z0-I._$z0)*_,G=C._$z0+(N._$z0-C._$z0)*_,Y=R._$z0+(F._$z0-R._$z0)*_,z=j._$z0+(B._$z0-j._$z0)*_,H=k._$z0+(V._$z0-k._$z0)*_,r._$Yr._$z0=(1-U)*((1-P)*(f+(p-f)*h)+P*(S+(O-S)*h))+U*((1-P)*(G+(Y-G)*h)+P*(z+(H-z)*h)),f=w._$qT+(L._$qT-w._$qT)*_,p=x._$qT+(E._$qT-x._$qT)*_,S=M._$qT+(A._$qT-M._$qT)*_,O=I._$qT+(D._$qT-I._$qT)*_,G=C._$qT+(N._$qT-C._$qT)*_,Y=R._$qT+(F._$qT-R._$qT)*_,z=j._$qT+(B._$qT-j._$qT)*_,H=k._$qT+(V._$qT-k._$qT)*_,r._$Yr._$qT=(1-U)*((1-P)*(f+(p-f)*h)+P*(S+(O-S)*h))+U*((1-P)*(G+(Y-G)*h)+P*(z+(H-z)*h))}else{for(var W=0|Math.pow(2,n),q=new Float32Array(W),J=0;J<W;J++){for(var Q=J,Z=1,K=0;K<n;K++)Z*=Q%2==0?1-s[K]:s[K],Q/=2;q[J]=Z}for(var tt=new Array,et=0;et<W;et++)tt[et]=this._$Y0[o[et]];var rt=0,it=0,nt=0,ot=0,st=0;for(et=0;et<W;et++)rt+=q[et]*tt[et]._$fL,it+=q[et]*tt[et]._$gL,nt+=q[et]*tt[et]._$B0,ot+=q[et]*tt[et]._$z0,st+=q[et]*tt[et]._$qT;r._$Yr._$fL=rt,r._$Yr._$gL=it,r._$Yr._$B0=nt,r._$Yr._$z0=ot,r._$Yr._$qT=st}a=this._$Y0[o[0]],r._$Yr.reflectX=a.reflectX,r._$Yr.reflectY=a.reflectY}},X.prototype._$2b=function(t,e){this!=e._$GT()&&console.log("### assert!! ### ");var r=e;if(r._$hS(!0),this._$32()){var i=this.getTargetBaseDataID();if(r._$8r==L._$ur&&(r._$8r=t.getBaseDataIndex(i)),r._$8r<0)at._$so&&a._$li("_$L _$0P _$G :: %s",i),r._$hS(!1);else{var n=t.getBaseData(r._$8r);if(null!=n){var o=t._$q2(r._$8r),s=X._$Xo;s[0]=r._$Yr._$fL,s[1]=r._$Yr._$gL;var l=X._$io;l[0]=0,l[1]=-.1,o._$GT().getType()==L._$c2?l[1]=-10:l[1]=-.1;var _=X._$0o;this._$Jr(t,n,o,s,l,_);var c=Pt._$92(l,_);n._$nb(t,o,s,s,1,0,2),r._$Wr._$fL=s[0],r._$Wr._$gL=s[1],r._$Wr._$B0=r._$Yr._$B0,r._$Wr._$z0=r._$Yr._$z0,r._$Wr._$qT=r._$Yr._$qT-c*Pt._$NS;var u=o.getTotalScale();r.setTotalScale_notForClient(u*r._$Wr._$B0);var h=o.getTotalOpacity();r.setTotalOpacity(h*r.getInterpolatedOpacity()),r._$Wr.reflectX=r._$Yr.reflectX,r._$Wr.reflectY=r._$Yr.reflectY,r._$hS(o._$yo())}else r._$hS(!1)}}else r.setTotalScale_notForClient(r._$Yr._$B0),r.setTotalOpacity(r.getInterpolatedOpacity())},X.prototype._$nb=function(t,e,r,i,n,o,s){this!=e._$GT()&&console.log("### assert!! ### ");for(var a,l,_=e,c=null!=_._$Wr?_._$Wr:_._$Yr,u=Math.sin(Pt._$bS*c._$qT),h=Math.cos(Pt._$bS*c._$qT),f=_.getTotalScale(),p=c.reflectX?-1:1,$=c.reflectY?-1:1,d=h*f*p,m=-u*f*$,g=u*f*p,y=h*f*$,v=c._$fL,b=c._$gL,T=n*s,P=o;P<T;P+=s)a=r[P],l=r[P+1],i[P]=d*a+m*l+v,i[P+1]=g*a+y*l+b},X.prototype._$Jr=function(t,e,r,i,n,o){e!=r._$GT()&&console.log("### assert!! ### ");var s=X._$Lo;X._$Lo[0]=i[0],X._$Lo[1]=i[1],e._$nb(t,r,s,s,1,0,2);for(var a=X._$To,l=X._$Po,_=1,c=0;c<10;c++){if(l[0]=i[0]+_*n[0],l[1]=i[1]+_*n[1],e._$nb(t,r,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return o[0]=a[0],void(o[1]=a[1]);if(l[0]=i[0]-_*n[0],l[1]=i[1]-_*n[1],e._$nb(t,r,l,a,1,0,2),a[0]-=s[0],a[1]-=s[1],0!=a[0]||0!=a[1])return a[0]=-a[0],a[0]=-a[0],o[0]=a[0],void(o[1]=a[1]);_*=.1}at._$so&&console.log("_$L0 to transform _$SP\n")},z.prototype=new st,H.prototype=new S,H._$ur=-2,H._$ES=500,H._$wb=2,H._$8S=3,H._$os=4,H._$52=H._$ES,H._$R2=H._$ES,H._$Sb=function(t){for(var e=t.length-1;e>=0;--e){var r=t[e];r<H._$52?H._$52=r:r>H._$R2&&(H._$R2=r)}},H._$or=function(){return H._$52},H._$Pr=function(){return H._$R2},H.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=B._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,H._$Sb(this._$Lb)},H.prototype.getClipIDList=function(){return this.clipIDList},H.prototype._$Nr=function(t,e){if(e._$IS[0]=!1,e._$Us=T._$Z2(t,this._$GS,e._$IS,this._$Lb),at._$Zs);else if(e._$IS[0])return;e._$7s=T._$br(t,this._$GS,e._$IS,this._$mS)},H.prototype._$2b=function(t){},H.prototype.getDrawDataID=function(){return this._$gP},H.prototype._$j2=function(t){this._$gP=t},H.prototype.getOpacity=function(t,e){return e._$7s},H.prototype._$zS=function(t,e){return e._$Us},H.prototype.getTargetBaseDataID=function(){return this._$dr},H.prototype._$gs=function(t){this._$dr=t},H.prototype._$32=function(){return null!=this._$dr&&this._$dr!=mt._$2o()},H.prototype.getType=function(){},W._$42=0,W.prototype._$1b=function(){return this._$3S},W.prototype.getDrawDataList=function(){return this._$aS},W.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},W.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},q.prototype=new i,q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q._$to=function(){return new q},q._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var r=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],i=q.loadModel(e._$3b()),n=0;n<r.length;n++){var o=new _$5(r[n]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());i.setTexture(n,_$nL._$_o(t,o._$3b()))}return i},q.prototype.setGL=function(t){this._$zo.setGL(t)},q.prototype.setTransform=function(t){this._$zo.setTransform(t)},q.prototype.draw=function(){this._$5S.draw(this._$zo)},q.prototype._$K2=function(){this._$zo._$K2()},q.prototype.setTexture=function(t,e){null==this._$zo&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},q.prototype.setTexture=function(t,e){null==this._$zo&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,e)},q.prototype._$Rs=function(){return this._$zo._$Rs()},q.prototype._$Ds=function(t){this._$zo._$Ds(t)},q.prototype.getDrawParam=function(){return this._$zo},J.prototype=new s,J._$cs="VISIBLE:",J._$ar="LAYOUT:",J.MTN_PREFIX_FADEIN="FADEIN:",J.MTN_PREFIX_FADEOUT="FADEOUT:",J._$Co=0,J._$1T=1,J.loadMotion=function(t){var e=V._$C(t);return J.loadMotion(e)},J.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var e=new J,r=[0],i=t.byteLength;e._$yT=0;for(var n=0;n<i;++n){var o=Q(t,n),s=o.charCodeAt(0);if("\n"!=o&&"\r"!=o)if("#"!=o)if("$"!=o){if(97<=s&&s<=122||65<=s&&s<=90||"_"==o){for(u=n,h=-1;n<i&&"\r"!=(o=Q(t,n))&&"\n"!=o;++n)if("="==o){h=n;break}if(h>=0){var a=new F;M.startsWith(t,u,J._$cs)?(a._$RP=F._$hs,a._$4P=M.createString(t,u,h-u)):M.startsWith(t,u,J._$ar)?(a._$4P=M.createString(t,u+7,h-u-7),M.startsWith(t,u+7,"ANCHOR_X")?a._$RP=F._$xs:M.startsWith(t,u+7,"ANCHOR_Y")?a._$RP=F._$us:M.startsWith(t,u+7,"SCALE_X")?a._$RP=F._$qs:M.startsWith(t,u+7,"SCALE_Y")?a._$RP=F._$Ys:M.startsWith(t,u+7,"X")?a._$RP=F._$ws:M.startsWith(t,u+7,"Y")&&(a._$RP=F._$Ns)):(a._$RP=F._$Fr,a._$4P=M.createString(t,u,h-u)),e.motions.push(a);var l=0,_=[];for(n=h+1;n<i&&"\r"!=(o=Q(t,n))&&"\n"!=o;++n)if(","!=o&&" "!=o&&"\t"!=o&&(p=M._$LS(t,i,n,r),r[0]>0)){_.push(p),l++;var c=r[0];if(c<n){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}n=c-1}a._$I0=new Float32Array(_),l>e._$yT&&(e._$yT=l)}}}else{for(var u=n,h=-1;n<i&&"\r"!=(o=Q(t,n))&&"\n"!=o;++n)if("="==o){h=n;break}var f=!1;if(h>=0)for(h==u+4&&"f"==Q(t,u+1)&&"p"==Q(t,u+2)&&"s"==Q(t,u+3)&&(f=!0),n=h+1;n<i&&"\r"!=(o=Q(t,n))&&"\n"!=o;++n)if(","!=o&&" "!=o&&"\t"!=o){var p=M._$LS(t,i,n,r);r[0]>0&&f&&5<p&&p<121&&(e._$D0=p),n=r[0]}for(;n<i&&"\n"!=Q(t,n)&&"\r"!=Q(t,n);++n);}else for(;n<i&&"\n"!=Q(t,n)&&"\r"!=Q(t,n);++n);}return e._$rr=1e3*e._$yT/e._$D0|0,e},J.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},J.prototype.getLoopDurationMSec=function(){return this._$rr},J.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];console.log("_$wL[%s] [%d]. ",e._$4P,e._$I0.length);for(var r=0;r<e._$I0.length&&r<10;r++)console.log("%5.2f ,",e._$I0[r]);console.log("\n")}},J.prototype.updateParamExe=function(t,e,r,i){for(var n=(e-i._$z2)*this._$D0/1e3,o=0|n,s=n-o,a=0;a<this.motions.length;a++){var l=this.motions[a],_=l._$I0.length,c=l._$4P;if(l._$RP==F._$hs){var u=l._$I0[o>=_?_-1:o];t.setParamFloat(c,u)}else if(F._$ws<=l._$RP&&l._$RP<=F._$Ys);else{var h=t.getParamIndex(c),f=t.getModelContext(),p=.4*(f.getParamMax(h)-f.getParamMin(h)),$=f.getParamFloat(h),d=l._$I0[o>=_?_-1:o],m=l._$I0[o+1>=_?_-1:o+1],g=$+((d<m&&m-d>p||d>m&&d-m>p?d:d+(m-d)*s)-$)*r;t.setParamFloat(c,g)}}o>=this._$yT&&(this._$E?(i._$z2=e,this.loopFadeIn&&(i._$bs=e)):i._$9L=!0),this._$eP=r},J.prototype._$r0=function(){return this._$E},J.prototype._$aL=function(t){this._$E=t},J.prototype._$S0=function(){return this._$D0},J.prototype._$U0=function(t){this._$D0=t},J.prototype.isLoopFadeIn=function(){return this.loopFadeIn},J.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},R.prototype.clear=function(){this.size=0},R.prototype.add=function(t){if(this._$P.length<=this.size){var e=new Float32Array(2*this.size);x._$jT(this._$P,0,e,0,this.size),this._$P=e}this._$P[this.size++]=t},R.prototype._$BL=function(){var t=new Float32Array(this.size);return x._$jT(this._$P,0,t,0,this.size),t},F._$Fr=0,F._$hs=1,F._$ws=100,F._$Ns=101,F._$xs=102,F._$us=103,F._$qs=104,F._$Ys=105,Z.prototype=new L,Z._$gT=new Array,Z.prototype._$zP=function(){this._$GS=new A,this._$GS._$zP()},Z.prototype._$F0=function(t){L.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),L.prototype.readV2_opacity.call(this,t)},Z.prototype.init=function(t){var e=new K(this),r=(this._$o+1)*(this._$A+1);return null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(2*r),null!=e._$hr&&(e._$hr=null),this._$32()?e._$hr=new Float32Array(2*r):e._$hr=null,e},Z.prototype._$Nr=function(t,e){var r=e;if(this._$GS._$Ur(t)){var i=this._$VT(),n=Z._$gT;n[0]=!1,T._$Vr(t,this._$GS,n,i,this._$Eo,r._$Cr,0,2),e._$Ib(n[0]),this.interpolateOpacity(t,this._$GS,e,n)}},Z.prototype._$2b=function(t,e){var r=e;if(r._$hS(!0),this._$32()){var i=this.getTargetBaseDataID();if(r._$8r==L._$ur&&(r._$8r=t.getBaseDataIndex(i)),r._$8r<0)at._$so&&a._$li("_$L _$0P _$G :: %s",i),r._$hS(!1);else{var n=t.getBaseData(r._$8r),o=t._$q2(r._$8r);if(null!=n&&o._$yo()){var s=o.getTotalScale();r.setTotalScale_notForClient(s);var l=o.getTotalOpacity();r.setTotalOpacity(l*r.getInterpolatedOpacity()),n._$nb(t,o,r._$Cr,r._$hr,this._$VT(),0,2),r._$hS(!0)}else r._$hS(!1)}}else r.setTotalOpacity(r.getInterpolatedOpacity())},Z.prototype._$nb=function(t,e,r,i,n,o,s){var a=e,l=null!=a._$hr?a._$hr:a._$Cr;Z.transformPoints_sdk2(r,i,n,o,s,l,this._$o,this._$A)},Z.transformPoints_sdk2=function(e,r,i,n,o,s,a,l){for(var _,c,u,h=i*o,f=0,p=0,$=0,d=0,m=0,g=0,y=!1,v=n;v<h;v+=o){var b,T,P,S;if(P=e[v],T=(S=e[v+1])*l,(b=P*a)<0||T<0||a<=b||l<=T){var O=a+1;if(!y){y=!0,f=.25*(s[2*(0+0*O)]+s[2*(a+0*O)]+s[2*(0+l*O)]+s[2*(a+l*O)]),p=.25*(s[2*(0+0*O)+1]+s[2*(a+0*O)+1]+s[2*(0+l*O)+1]+s[2*(a+l*O)+1]);var w=s[2*(a+l*O)]-s[2*(0+0*O)],L=s[2*(a+l*O)+1]-s[2*(0+0*O)+1],x=s[2*(a+0*O)]-s[2*(0+l*O)],E=s[2*(a+0*O)+1]-s[2*(0+l*O)+1];f-=.5*(($=.5*(w+x))+(m=.5*(w-x))),p-=.5*((d=.5*(L+E))+(g=.5*(L-E)))}if(-2<P&&P<3&&-2<S&&S<3)if(P<=0)if(S<=0){var M=s[2*(0+0*O)],A=s[2*(0+0*O)+1],I=f-2*$,D=p-2*d,C=f-2*m,N=p-2*g,R=f-2*$-2*m,F=p-2*d-2*g;(j=.5*(P- -2))+(B=.5*(S- -2))<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B))}else if(S>=1)C=s[2*(0+l*O)],N=s[2*(0+l*O)+1],R=f-2*$+1*m,F=p-2*d+1*g,M=f+3*m,A=p+3*g,I=f-2*$+3*m,D=p-2*d+3*g,(j=.5*(P- -2))+(B=.5*(S-1))<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B));else{(U=0|T)==l&&(U=l-1);var j=.5*(P- -2),B=T-U,k=U/l,V=(U+1)/l;C=s[2*(0+U*O)],N=s[2*(0+U*O)+1],M=s[2*(0+(U+1)*O)],A=s[2*(0+(U+1)*O)+1],R=f-2*$+k*m,F=p-2*d+k*g,I=f-2*$+V*m,D=p-2*d+V*g,j+B<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B))}else if(1<=P)if(S<=0)I=s[2*(a+0*O)],D=s[2*(a+0*O)+1],M=f+3*$,A=p+3*d,R=f+1*$-2*m,F=p+1*d-2*g,C=f+3*$-2*m,N=p+3*d-2*g,(j=.5*(P-1))+(B=.5*(S- -2))<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B));else if(S>=1)R=s[2*(a+l*O)],F=s[2*(a+l*O)+1],C=f+3*$+1*m,N=p+3*d+1*g,I=f+1*$+3*m,D=p+1*d+3*g,M=f+3*$+3*m,A=p+3*d+3*g,(j=.5*(P-1))+(B=.5*(S-1))<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B));else{var U;(U=0|T)==l&&(U=l-1),j=.5*(P-1),B=T-U,k=U/l,V=(U+1)/l,R=s[2*(a+U*O)],F=s[2*(a+U*O)+1],I=s[2*(a+(U+1)*O)],D=s[2*(a+(U+1)*O)+1],C=f+3*$+k*m,N=p+3*d+k*g,M=f+3*$+V*m,A=p+3*d+V*g,j+B<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B))}else if(S<=0){(X=0|b)==a&&(X=a-1),j=b-X,B=.5*(S- -2);var G=X/a,Y=(X+1)/a;I=s[2*(X+0*O)],D=s[2*(X+0*O)+1],M=s[2*(X+1+0*O)],A=s[2*(X+1+0*O)+1],R=f+G*$-2*m,F=p+G*d-2*g,C=f+Y*$-2*m,N=p+Y*d-2*g,j+B<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B))}else if(S>=1){var X;(X=0|b)==a&&(X=a-1),j=b-X,B=.5*(S-1),G=X/a,Y=(X+1)/a,R=s[2*(X+l*O)],F=s[2*(X+l*O)+1],C=s[2*(X+1+l*O)],N=s[2*(X+1+l*O)+1],I=f+G*$+3*m,D=p+G*d+3*g,M=f+Y*$+3*m,A=p+Y*d+3*g,j+B<=1?(r[v]=R+(C-R)*j+(I-R)*B,r[v+1]=F+(N-F)*j+(D-F)*B):(r[v]=M+(I-M)*(1-j)+(C-M)*(1-B),r[v+1]=A+(D-A)*(1-j)+(N-A)*(1-B))}else t.err.printf("_$li calc : %.4f , %.4f          @@BDBoxGrid\n",P,S);else r[v]=f+P*$+S*m,r[v+1]=p+P*d+S*g}else _=2*((0|b)+(0|T)*(a+1)),(c=b-(0|b))+(u=T-(0|T))<1?(r[v]=s[_]*(1-c-u)+s[_+2]*c+s[_+2*(a+1)]*u,r[v+1]=s[_+1]*(1-c-u)+s[_+3]*c+s[_+2*(a+1)+1]*u):(r[v]=s[_+2*(a+1)+2]*(c-1+u)+s[_+2*(a+1)]*(1-c)+s[_+2]*(1-u),r[v+1]=s[_+2*(a+1)+3]*(c-1+u)+s[_+2*(a+1)+1]*(1-c)+s[_+3]*(1-u))}},Z.prototype.transformPoints_sdk1=function(t,e,r,i,n,o,s){for(var a,l,_,c,u,h,f,p=e,$=this._$o,d=this._$A,m=n*s,g=null!=p._$hr?p._$hr:p._$Cr,y=o;y<m;y+=s)at._$ts?(a=r[y],l=r[y+1],a<0?a=0:a>1&&(a=1),l<0?l=0:l>1&&(l=1),c=0|(l*=d),(_=0|(a*=$))>$-1&&(_=$-1),c>d-1&&(c=d-1),h=a-_,f=l-c,u=2*(_+c*($+1))):(h=(a=r[y]*$)-(0|a),f=(l=r[y+1]*d)-(0|l),u=2*((0|a)+(0|l)*($+1))),h+f<1?(i[y]=g[u]*(1-h-f)+g[u+2]*h+g[u+2*($+1)]*f,i[y+1]=g[u+1]*(1-h-f)+g[u+3]*h+g[u+2*($+1)+1]*f):(i[y]=g[u+2*($+1)+2]*(h-1+f)+g[u+2*($+1)]*(1-h)+g[u+2]*(1-f),i[y+1]=g[u+2*($+1)+3]*(h-1+f)+g[u+2*($+1)+1]*(1-h)+g[u+3]*(1-f))},Z.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Z.prototype.getType=function(){return L._$_b},K.prototype=new st,tt._$42=0,tt.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},tt.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},tt.prototype.init=function(t){var e=new et(this);return e.setPartsOpacity(this.isVisible()?1:0),e},tt.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},tt.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},tt.prototype._$Zo=function(t){this._$3S=t},tt.prototype._$xo=function(t){this._$aS=t},tt.prototype.isVisible=function(){return this.visible},tt.prototype._$uL=function(){return this._$g0},tt.prototype._$KP=function(t){this.visible=t},tt.prototype._$ET=function(t){this._$g0=t},tt.prototype.getBaseData=function(){return this._$3S},tt.prototype.getDrawData=function(){return this._$aS},tt.prototype._$p2=function(){return this._$NL},tt.prototype._$ob=function(t){this._$NL=t},tt.prototype.getPartsID=function(){return this._$NL},tt.prototype._$MP=function(t){this._$NL=t},et.prototype=new function(){},et.prototype.getPartsOpacity=function(){return this._$VS},et.prototype.setPartsOpacity=function(t){this._$VS=t},rt._$L7=function(){c._$27(),mt._$27(),D._$27(),_._$27()},rt.prototype.toString=function(){return this.id},it.prototype._$1s=function(){return this._$4S},it.prototype._$zP=function(){this._$4S=new Array},it.prototype._$F0=function(t){this._$4S=t._$nP()},it.prototype._$Ks=function(t){this._$4S.push(t)},nt.tr=new dt,nt._$50=new dt,nt._$Ti=new Array(0,0),nt._$Pi=new Array(0,0),nt._$B=new Array(0,0),nt.prototype._$lP=function(t,e,r,i){this.viewport=new Array(t,e,r,i)},nt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},nt.prototype._$ei=function(){this.context.restore()},nt.prototype.drawElements=function(t,e,r,i,n,o,s,l){try{n!=this._$Qo&&(this._$Qo=n,this.context.globalAlpha=n);for(var _=e.length,c=t.width,u=t.height,h=this.context,f=this._$xP,p=this._$uP,$=this._$6r,d=this._$3r,m=nt.tr,g=nt._$Ti,y=nt._$Pi,b=nt._$B,T=0;T<_;T+=3){h.save();var P=e[T],S=e[T+1],O=e[T+2],w=f+$*r[2*P],L=p+d*r[2*P+1],x=f+$*r[2*S],E=p+d*r[2*S+1],M=f+$*r[2*O],A=p+d*r[2*O+1];s&&(s._$PS(w,L,b),w=b[0],L=b[1],s._$PS(x,E,b),x=b[0],E=b[1],s._$PS(M,A,b),M=b[0],A=b[1]);var I=c*i[2*P],D=u-u*i[2*P+1],C=c*i[2*S],N=u-u*i[2*S+1],R=c*i[2*O],F=u-u*i[2*O+1],j=Math.atan2(N-D,C-I),B=Math.atan2(E-L,x-w),k=x-w,V=E-L,U=Math.sqrt(k*k+V*V),G=C-I,Y=N-D,X=U/Math.sqrt(G*G+Y*Y);v._$ni(R,F,I,D,C-I,N-D,-(N-D),C-I,g),v._$ni(M,A,w,L,x-w,E-L,-(E-L),x-w,y);var z=(y[0]-g[0])/g[1],H=Math.min(I,C,R),W=Math.max(I,C,R),q=Math.min(D,N,F),J=Math.max(D,N,F),Q=Math.floor(H),Z=Math.floor(q),K=Math.ceil(W),tt=Math.ceil(J);if(m.identity(),m.translate(w,L),m.rotate(B),m.scale(1,y[1]/g[1]),m.shear(z,0),m.scale(X,X),m.rotate(-j),m.translate(-I,-D),m.setContext(h),o||(o=1.2),at.IGNORE_EXPAND&&(o=0),at.USE_CACHED_POLYGON_IMAGE){var et=l._$e0;if(et.gl_cacheImage=et.gl_cacheImage||{},!et.gl_cacheImage[T]){var rt=nt.createCanvas(K-Q,tt-Z);at.DEBUG_DATA.LDGL_CANVAS_MB=at.DEBUG_DATA.LDGL_CANVAS_MB||0,at.DEBUG_DATA.LDGL_CANVAS_MB+=(K-Q)*(tt-Z)*4;var it=rt.getContext("2d");it.translate(-Q,-Z),nt.clip(it,m,o,U,I,D,C,N,R,F,w,L,x,E,M,A),it.drawImage(t,0,0),et.gl_cacheImage[T]={cacheCanvas:rt,cacheContext:it}}h.drawImage(et.gl_cacheImage[T].cacheCanvas,Q,Z)}else at.IGNORE_CLIP||nt.clip(h,m,o,U,I,D,C,N,R,F,w,L,x,E,M,A),at.USE_ADJUST_TRANSLATION&&(H=0,W=c,q=0,J=u),h.drawImage(t,H,q,W-H,J-q,H,q,W-H,J-q);h.restore()}}catch(t){a._$Rb(t)}},nt.clip=function(t,e,r,i,n,o,s,a,l,_,c,u,h,f,p,$){r>.02?nt.expandClip(t,e,r,i,c,u,h,f,p,$):nt.clipWithTransform(t,null,n,o,s,a,l,_)},nt.expandClip=function(t,e,r,i,n,o,s,a,l,_){var c=s-n,u=a-o,h=l-n,f=_-o,p=c*f-u*h>0?r:-r,$=-u,d=c,m=l-s,g=_-a,y=-g,v=m,b=Math.sqrt(m*m+g*g),T=-f,P=h,S=Math.sqrt(h*h+f*f),O=n-p*$/i,w=o-p*d/i,L=s-p*$/i,x=a-p*d/i,E=s-p*y/b,M=a-p*v/b,A=l-p*y/b,I=_-p*v/b,D=n+p*T/S,C=o+p*P/S,N=l+p*T/S,R=_+p*P/S,F=nt._$50;return null!=e._$P2(F)&&(nt.clipWithTransform(t,F,O,w,L,x,E,M,A,I,N,R,D,C),!0)},nt.clipWithTransform=function(t,e,r,i,n,o,s,l){if(arguments.length<7)a._$li("err : @LDGL.clip()");else if(arguments[1]instanceof dt){var _=nt._$B,c=e,u=arguments;if(t.beginPath(),c){c._$PS(u[2],u[3],_),t.moveTo(_[0],_[1]);for(var h=4;h<u.length;h+=2)c._$PS(u[h],u[h+1],_),t.lineTo(_[0],_[1])}else for(t.moveTo(u[2],u[3]),h=4;h<u.length;h+=2)t.lineTo(u[h],u[h+1]);t.clip()}else a._$li("err : a[0] is _$6 LDTransform @LDGL.clip()")},nt.createCanvas=function(t,e){var r=document.createElement("canvas");return r.setAttribute("width",t),r.setAttribute("height",e),r||a._$li("err : "+r),r},nt.dumpValues=function(){for(var t="",e=0;e<arguments.length;e++)t+="["+e+"]= "+arguments[e].toFixed(3)+" , ";console.log(t)},ot.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},ot.prototype.getMinValue=function(){return this._$TT},ot.prototype.getMaxValue=function(){return this._$LT},ot.prototype.getDefaultValue=function(){return this._$FS},ot.prototype.getParamID=function(){return this._$wL},st.prototype._$yo=function(){return this._$AT&&!this._$JS},st.prototype._$hS=function(t){this._$AT=t},st.prototype._$GT=function(){return this._$e0},st.prototype._$l2=function(t){this._$IP=t},st.prototype.getPartsIndex=function(){return this._$IP},st.prototype._$x2=function(){return this._$JS},st.prototype._$Ib=function(t){this._$JS=t},st.prototype.getTotalScale=function(){return this.totalScale},st.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},st.prototype.getInterpolatedOpacity=function(){return this._$7s},st.prototype.setInterpolatedOpacity=function(t){this._$7s=t},st.prototype.getTotalOpacity=function(t){return this.totalOpacity},st.prototype.setTotalOpacity=function(t){this.totalOpacity=t},at._$2s="2.1.00_1",at._$Kr=201001e3,at._$sP=!0,at._$so=!0,at._$cb=!1,at._$3T=!0,at._$Ts=!0,at._$fb=!0,at._$ts=!0,at.L2D_DEFORMER_EXTEND=!0,at._$Wb=!1,at._$yr=!1,at._$Zs=!1,at.L2D_NO_ERROR=0,at._$i7=1e3,at._$9s=1001,at._$es=1100,at._$r7=2e3,at._$07=2001,at._$b7=2002,at._$H7=4e3,at.L2D_COLOR_BLEND_MODE_MULT=0,at.L2D_COLOR_BLEND_MODE_ADD=1,at.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,at._$6b=!0,at._$cT=0,at.clippingMaskBufferSize=256,at.glContext=new Array,at.frameBuffers=new Array,at.fTexture=new Array,at.IGNORE_CLIP=!1,at.IGNORE_EXPAND=!1,at.EXPAND_W=2,at.USE_ADJUST_TRANSLATION=!0,at.USE_CANVAS_TRANSFORM=!0,at.USE_CACHED_POLYGON_IMAGE=!1,at.DEBUG_DATA={},at.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},at.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_IOS_DEFAULT=at.PROFILE_IOS_QUALITY,at.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.initProfile=function(){Ot.isIOS()?at.setupProfile(at.PROFILE_IOS_DEFAULT):Ot.isAndroid()?at.setupProfile(at.PROFILE_ANDROID):at.setupProfile(at.PROFILE_DESKTOP)},at.setupProfile=function(t,e){if("number"==typeof t)switch(t){case 9901:t=at.PROFILE_IOS_SPEED;break;case 9902:t=at.PROFILE_IOS_QUALITY;break;case 9903:t=at.PROFILE_IOS_DEFAULT;break;case 9904:t=at.PROFILE_ANDROID;break;case 9905:t=at.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}for(var r in arguments.length<2&&(e=!0),e&&console.log("profile : "+t.PROFILE_NAME),t)at[r]=t[r],e&&console.log("  ["+r+"] = "+t[r])},at.init=function(){at._$6b&&(console.log("Live2D %s",at._$2s),at._$6b=!1,at.initProfile())},at.getVersionStr=function(){return at._$2s},at.getVersionNo=function(){return at._$Kr},at._$sT=function(t){at._$cT=t},at.getError=function(){var t=at._$cT;return at._$cT=0,t},at.dispose=function(){at.glContext=[],at.frameBuffers=[],at.fTexture=[]},at.setGL=function(t,e){var r=e||0;at.glContext[r]=t},at.getGL=function(t){return at.glContext[t]},at.setClippingMaskBufferSize=function(t){at.clippingMaskBufferSize=t},at.getClippingMaskBufferSize=function(){return at.clippingMaskBufferSize},at.deleteBuffer=function(t){at.getGL(t).deleteFramebuffer(at.frameBuffers[t].framebuffer),delete at.frameBuffers[t],delete at.glContext[t]},lt._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*Pt.PI_F)},_t._$fr=-1,_t.prototype.toString=function(){return this._$ib},ct.prototype=new H,ct._$42=0,ct._$Os=30,ct._$ms=0,ct._$ns=1,ct._$_s=2,ct._$gT=new Array,ct.prototype._$_S=function(t){this._$LP=t},ct.prototype.getTextureNo=function(){return this._$LP},ct.prototype._$ZL=function(){return this._$Qi},ct.prototype._$H2=function(){return this._$JP},ct.prototype.getNumPoints=function(){return this._$d0},ct.prototype.getType=function(){return H._$wb},ct.prototype._$B2=function(t,e,r){var i=e,n=null!=i._$hr?i._$hr:i._$Cr;switch(j._$do){default:case j._$Ms:throw new Error("_$L _$ro ");case j._$Qs:for(var o=this._$d0-1;o>=0;--o)n[o*j._$No+4]=r}},ct.prototype._$zP=function(){this._$GS=new A,this._$GS._$zP()},ct.prototype._$F0=function(t){H.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var e=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var r=3*this._$Yo-1;r>=0;--r)this._$BP[r]=e[r];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=B._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var i=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(i)}0!=(this._$JP&ct._$Os)?this._$6s=(this._$JP&ct._$Os)>>1:this._$6s=ct._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},ct.prototype.init=function(t){var e=new ut(this),r=this._$d0*j._$No,i=this._$32();switch(null!=e._$Cr&&(e._$Cr=null),e._$Cr=new Float32Array(r),null!=e._$hr&&(e._$hr=null),e._$hr=i?new Float32Array(r):null,j._$do){default:case j._$Ms:if(j._$Ls)for(var n=this._$d0-1;n>=0;--n){var o=n<<1;this._$Qi[o+1]=1-this._$Qi[o+1]}break;case j._$Qs:for(n=this._$d0-1;n>=0;--n){o=n<<1;var s=n*j._$No,a=this._$Qi[o],l=this._$Qi[o+1];e._$Cr[s]=a,e._$Cr[s+1]=l,e._$Cr[s+4]=0,i&&(e._$hr[s]=a,e._$hr[s+1]=l,e._$hr[s+4]=0)}}return e},ct.prototype._$Nr=function(t,e){var r=e;if(this!=r._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(H.prototype._$Nr.call(this,t,r),!r._$IS[0])){var i=ct._$gT;i[0]=!1,T._$Vr(t,this._$GS,i,this._$d0,this._$Eo,r._$Cr,j._$i2,j._$No)}},ct.prototype._$2b=function(t,e){try{this!=e._$GT()&&console.log("### assert!! ### ");var r=!1;e._$IS[0]&&(r=!0);var i=e;if(!r&&(H.prototype._$2b.call(this,t),this._$32())){var n=this.getTargetBaseDataID();if(i._$8r==H._$ur&&(i._$8r=t.getBaseDataIndex(n)),i._$8r<0)at._$so&&a._$li("_$L _$0P _$G :: %s",n);else{var o=t.getBaseData(i._$8r),s=t._$q2(i._$8r);null==o||s._$x2()?i._$AT=!1:(o._$nb(t,s,i._$Cr,i._$hr,this._$d0,j._$i2,j._$No),i._$AT=!0),i.baseOpacity=s.getTotalOpacity()}}}catch(t){throw t}},ct.prototype.draw=function(t,e,r){if(this!=r._$GT()&&console.log("### assert!! ### "),!r._$IS[0]){var i=r,n=this._$LP;n<0&&(n=1);var o=this.getOpacity(e,i)*r._$VS*r.baseOpacity,s=null!=i._$hr?i._$hr:i._$Cr;t.setClipBufPre_clipContextForDraw(r.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(n,3*this._$Yo,this._$BP,s,this._$Qi,o,this._$6s,i)}},ct.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);for(console.log("\n  _$5i _$30"),t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var e=this._$Eo[t],r=0;r<e.length;r++)console.log("%6.2f, ",e[r])}console.log("\n")},ct.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},ct.prototype.getIndexArray=function(){return this._$BP},ut.prototype=new St,ut.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},ht.prototype._$HT=function(t){this.x=t.x,this.y=t.y},ht.prototype._$HT=function(t,e){this.x=t,this.y=e},ft.prototype=new i,ft.loadModel=function(t){var e=new ft;return i._$62(e,t),e},ft.loadModel=function(t,e){var r=new ft(e||0);return i._$62(r,t),r},ft._$to=function(){return new ft},ft._$er=function(t){var e=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==e.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+e._$PL());for(var r=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],i=ft.loadModel(e._$3b()),n=0;n<r.length;n++){var o=new _$5(r[n]);if(0==o.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+o._$PL());i.setTexture(n,_$nL._$_o(t,o._$3b()))}return i},ft.prototype.setGL=function(t){at.setGL(t)},ft.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},ft.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},ft.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},ft.prototype._$K2=function(){this.drawParamWebGL._$K2()},ft.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},ft.prototype.setTexture=function(t,e){null==this.drawParamWebGL&&a._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,e)},ft.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},ft.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},ft.prototype.getDrawParam=function(){return this.drawParamWebGL},ft.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},ft.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},ft.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},ft.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},ft.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},pt.prototype._$tb=function(){return this.motions},pt.prototype.startMotion=function(t,e){for(var r=null,i=this.motions.length,n=0;n<i;++n)null!=(r=this.motions[n])&&(r._$qS(r._$w0.getFadeOut()),this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",i,r._$sr));if(null==t)return-1;(r=new $t)._$w0=t,this.motions.push(r);var o=r._$sr;return this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",i,o),o},pt.prototype.updateParam=function(t){try{for(var e=!1,r=0;r<this.motions.length;r++){var i=this.motions[r];if(null!=i){var n=i._$w0;null!=n?(n.updateParam(t,i),e=!0,i.isFinished()&&(this._$eb&&a._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,i._$sr),this.motions.splice(r,1),r--)):(this.motions=this.motions.splice(r,1),r--)}else this.motions.splice(r,1),r--}return e}catch(t){return a._$li(t),!0}},pt.prototype.isFinished=function(t){if(arguments.length>=1){for(var e=0;e<this.motions.length;e++)if(null!=(r=this.motions[e])&&r._$sr==t&&!r.isFinished())return!1;return!0}for(e=0;e<this.motions.length;e++){var r;if(null!=(r=this.motions[e]))if(null!=r._$w0){if(!r.isFinished())return!1}else this.motions.splice(e,1),e--;else this.motions.splice(e,1),e--}return!0},pt.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var e=this.motions[t];null!=e?(e._$w0,this.motions.splice(t,1),t--):(this.motions.splice(t,1),t--)}},pt.prototype._$Zr=function(t){this._$eb=t},pt.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var e=this.motions[t]._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,e.toString())}},$t._$Gs=0,$t.prototype.isFinished=function(){return this._$9L},$t.prototype._$qS=function(t){var e=x.getUserTimeMSec()+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},$t.prototype._$Bs=function(){return this._$sr},dt.prototype.setContext=function(t){var e=this.m;t.transform(e[0],e[1],e[3],e[4],e[6],e[7])},dt.prototype.toString=function(){for(var t="LDTransform { ",e=0;e<9;e++)t+=this.m[e].toFixed(2)+" ,";return t+" }"},dt.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},dt.prototype._$PS=function(t,e,r){null==r&&(r=new Array(0,0));var i=this.m;return r[0]=i[0]*t+i[3]*e+i[6],r[1]=i[1]*t+i[4]*e+i[7],r},dt.prototype._$P2=function(t){t||(t=new dt);var e=this.m,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],_=e[7],c=e[8],u=r*s*c+i*a*l+n*o*_-r*a*_-n*s*l-i*o*c;if(0==u)return null;var h=1/u;return t.m[0]=h*(s*c-_*a),t.m[1]=h*(_*n-i*c),t.m[2]=h*(i*a-s*n),t.m[3]=h*(l*a-o*c),t.m[4]=h*(r*c-l*n),t.m[5]=h*(o*n-r*a),t.m[6]=h*(o*_-l*s),t.m[7]=h*(l*i-r*_),t.m[8]=h*(r*s-o*i),t},dt.prototype.transform=function(t,e,r){null==r&&(r=new Array(0,0));var i=this.m;return r[0]=i[0]*t+i[3]*e+i[6],r[1]=i[1]*t+i[4]*e+i[7],r},dt.prototype.translate=function(t,e){var r=this.m;r[6]=r[0]*t+r[3]*e+r[6],r[7]=r[1]*t+r[4]*e+r[7],r[8]=r[2]*t+r[5]*e+r[8]},dt.prototype.scale=function(t,e){var r=this.m;r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=e,r[4]*=e,r[5]*=e},dt.prototype.shear=function(t,e){var r=this.m,i=r[0]+r[3]*e,n=r[1]+r[4]*e,o=r[2]+r[5]*e;r[3]=r[0]*t+r[3],r[4]=r[1]*t+r[4],r[5]=r[2]*t+r[5],r[0]=i,r[1]=n,r[2]=o},dt.prototype.rotate=function(t){var e=this.m,r=Math.cos(t),i=Math.sin(t),n=e[0]*r+e[3]*i,o=e[1]*r+e[4]*i,s=e[2]*r+e[5]*i;e[3]=-e[0]*i+e[3]*r,e[4]=-e[1]*i+e[4]*r,e[5]=-e[2]*i+e[5]*r,e[0]=n,e[1]=o,e[2]=s},dt.prototype.concatenate=function(t){var e=this.m,r=t.m,i=e[0]*r[0]+e[3]*r[1]+e[6]*r[2],n=e[1]*r[0]+e[4]*r[1]+e[7]*r[2],o=e[2]*r[0]+e[5]*r[1]+e[8]*r[2],s=e[0]*r[3]+e[3]*r[4]+e[6]*r[5],a=e[1]*r[3]+e[4]*r[4]+e[7]*r[5],l=e[2]*r[3]+e[5]*r[4]+e[8]*r[5],_=e[0]*r[6]+e[3]*r[7]+e[6]*r[8],c=e[1]*r[6]+e[4]*r[7]+e[7]*r[8],u=e[2]*r[6]+e[5]*r[7]+e[8]*r[8];m[0]=i,m[1]=n,m[2]=o,m[3]=s,m[4]=a,m[5]=l,m[6]=_,m[7]=c,m[8]=u},mt.prototype=new rt,mt._$eT=null,mt._$tP=new Object,mt._$2o=function(){return null==mt._$eT&&(mt._$eT=mt.getID("DST_BASE")),mt._$eT},mt._$27=function(){mt._$tP.clear(),mt._$eT=null},mt.getID=function(t){var e=mt._$tP[t];return null==e&&(e=new mt(t),mt._$tP[t]=e),e},mt.prototype._$3s=function(){return new mt},gt.prototype=new O,gt._$9r=function(t){return new Float32Array(t)},gt._$vb=function(t){return new Int16Array(t)},gt._$cr=function(t,e){return null==t||t._$yL()<e.length?((t=gt._$9r(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},gt._$mb=function(t,e){return null==t||t._$yL()<e.length?((t=gt._$vb(2*e.length)).put(e),t._$oT(0)):(t.clear(),t.put(e),t._$oT(0)),t},gt._$Hs=function(){return this._$Gr},gt._$as=function(t){this._$Gr=t},gt.prototype.getGL=function(){return this.gl},gt.prototype.setGL=function(t){this.gl=t},gt.prototype.setTransform=function(t){this.transform=t},gt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},gt.prototype._$Uo=function(t,e,r,i,n,o,s,a){if(!(o<.01&&null==this.clipBufPre_clipContextMask)){o>.9&&at.EXPAND_W;var l=this.gl;if(null==this.gl)throw new Error("gl is null");var _,c,u,h,f=1*this._$C0*o,p=1*this._$tT*o,$=1*this._$WL*o,d=this._$lT*o;if(null!=this.clipBufPre_clipContextMask){l.frontFace(l.CCW),l.useProgram(this.shaderProgram),this._$vS=yt(l,this._$vS,i),this._$no=vt(l,this._$no,r),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=yt(l,this._$NT,n),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var m=this.getClipBufPre_clipContextMask().layoutChannelNo,g=this.getChannelFlagAsColor(m);l.uniform4f(this.u_channelFlag,g.r,g.g,g.b,g.a);var y=this.getClipBufPre_clipContextMask().layoutBounds;l.uniform4f(this.u_baseColor_Loc,2*y.x-1,2*y.y-1,2*y._$EL()-1,2*y._$5T()-1),l.uniform1i(this.u_maskFlag_Loc,!0)}else null!=this.getClipBufPre_clipContextDraw()?(l.useProgram(this.shaderProgramOff),this._$vS=yt(l,this._$vS,i),this._$no=vt(l,this._$no,r),l.enableVertexAttribArray(this.a_position_Loc_Off),l.vertexAttribPointer(this.a_position_Loc_Off,2,l.FLOAT,!1,0,0),this._$NT=yt(l,this._$NT,n),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc_Off,1),l.enableVertexAttribArray(this.a_texCoord_Loc_Off),l.vertexAttribPointer(this.a_texCoord_Loc_Off,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),l.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,at.fTexture[this.glno]),l.uniform1i(this.s_texture1_Loc_Off,2),m=this.getClipBufPre_clipContextDraw().layoutChannelNo,g=this.getChannelFlagAsColor(m),l.uniform4f(this.u_channelFlag_Loc_Off,g.r,g.g,g.b,g.a),l.uniform4f(this.u_baseColor_Loc_Off,f,p,$,d)):(l.useProgram(this.shaderProgram),this._$vS=yt(l,this._$vS,i),this._$no=vt(l,this._$no,r),l.enableVertexAttribArray(this.a_position_Loc),l.vertexAttribPointer(this.a_position_Loc,2,l.FLOAT,!1,0,0),this._$NT=yt(l,this._$NT,n),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,this.textures[t]),l.uniform1i(this.s_texture0_Loc,1),l.enableVertexAttribArray(this.a_texCoord_Loc),l.vertexAttribPointer(this.a_texCoord_Loc,2,l.FLOAT,!1,0,0),l.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),l.uniform4f(this.u_baseColor_Loc,f,p,$,d),l.uniform1i(this.u_maskFlag_Loc,!1));if(this.culling?this.gl.enable(l.CULL_FACE):this.gl.disable(l.CULL_FACE),this.gl.enable(l.BLEND),null!=this.clipBufPre_clipContextMask)_=l.ONE,c=l.ONE_MINUS_SRC_ALPHA,u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA;else switch(s){case ct._$ms:_=l.ONE,c=l.ONE_MINUS_SRC_ALPHA,u=l.ONE,h=l.ONE_MINUS_SRC_ALPHA;break;case ct._$ns:_=l.ONE,c=l.ONE,u=l.ZERO,h=l.ONE;break;case ct._$_s:_=l.DST_COLOR,c=l.ONE_MINUS_SRC_ALPHA,u=l.ZERO,h=l.ONE}l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(_,c,u,h),this.anisotropyExt&&l.texParameteri(l.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var v=r.length;l.drawElements(l.TRIANGLES,v,l.UNSIGNED_SHORT,0),l.bindTexture(l.TEXTURE_2D,null)}},gt.prototype._$Rs=function(){throw new Error("_$Rs")},gt.prototype._$Ds=function(t){throw new Error("_$Ds")},gt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++)0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)},gt.prototype.setTexture=function(t,e){this.textures[t]=e},gt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},gt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},gt.prototype.compileShader=function(t,e){var r=this.gl,i=e,n=r.createShader(t);if(null==n)return a._$Ji("_$L0 to create shader"),null;if(r.shaderSource(n,i),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS)){var o=r.getShaderInfoLog(n);return a._$Ji("_$L0 to compile shader : "+o),r.deleteShader(n),null}return n},gt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return a._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return a._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return a._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return a._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var e=t.getProgramInfoLog(this.shaderProgram);return a._$Ji("_$L0 to link program: "+e),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},gt.prototype.createFramebuffer=function(){var t=this.gl,e=at.clippingMaskBufferSize,r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r);var i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,e,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,i);var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),at.fTexture[this.glno]=n,{framebuffer:r,renderbuffer:i,texture:at.fTexture[this.glno]}},bt.prototype._$fP=function(){var t,e,r,i=this._$ST();if(0==(128&i))return 255&i;if(0==(128&(t=this._$ST())))return(127&i)<<7|127&t;if(0==(128&(e=this._$ST())))return(127&i)<<14|(127&t)<<7|255&e;if(0==(128&(r=this._$ST())))return(127&i)<<21|(127&t)<<14|(127&e)<<7|255&r;throw new _t("_$L _$0P  _")},bt.prototype.getFormatVersion=function(){return this._$S2},bt.prototype._$gr=function(t){this._$S2=t},bt.prototype._$3L=function(){return this._$fP()},bt.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},bt.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},bt.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},bt.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},bt.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},bt.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new _t("_$L _$q read long")},bt.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var Tt=!0;function Pt(){}function St(t){r||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function Ot(){}bt.prototype._$bT=function(){this._$zT();var t=this._$3L(),e=null;if(Tt)try{var r=new ArrayBuffer(2*t);e=new Uint16Array(r);for(var i=0;i<t;++i)e[i]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,e)}catch(t){Tt=!1}try{var n=new Array;if(null==e)for(i=0;i<t;++i)n[i]=this._$T.getUint8(this._$F++);else for(i=0;i<t;++i)n[i]=e[i];return String.fromCharCode.apply(null,n)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},bt.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),e=new Int32Array(t),r=0;r<t;r++)e[r]=this._$T.getInt32(this._$F),this._$F+=4;return e},bt.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),e=new Float32Array(t),r=0;r<t;r++)e[r]=this._$T.getFloat32(this._$F),this._$F+=4;return e},bt.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),e=new Float64Array(t),r=0;r<t;r++)e[r]=this._$T.getFloat64(this._$F),this._$F+=8;return e},bt.prototype._$nP=function(){return this._$Jb(-1)},bt.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==B._$7P){var e=this._$6L();if(0<=e&&e<this._$Ko.length)return this._$Ko[e];throw new _t("_$sL _$4i @_$m0")}var r=this._$4b(t);return this._$Ko.push(r),r},bt.prototype._$4b=function(t){if(0==t)return null;if(50==t){var e=this._$bT();return D.getID(e)}if(51==t)return e=this._$bT(),mt.getID(e);if(134==t)return e=this._$bT(),_.getID(e);if(60==t)return e=this._$bT(),c.getID(e);if(t>=48){var i=B._$9o(t);return null!=i?(i._$F0(this),i):null}switch(t){case 1:return this._$bT();case 10:return new function(){r||(this.color=null)}(this._$6L(),!0);case 11:return new b(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new b(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new P(this._$mP(),this._$mP());case 14:return new P(this._$_T(),this._$_T());case 15:for(var n=this._$3L(),o=new Array(n),s=0;s<n;s++)o[s]=this._$nP();return o;case 17:return new C(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new l(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new ht(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new _t("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new _t("_$6 _$q : _$nP() NO _$i : "+t)}},bt.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},bt.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},Pt._$2S=Math.PI/180,Pt._$bS=Math.PI/180,Pt._$wS=180/Math.PI,Pt._$NS=180/Math.PI,Pt.PI_F=Math.PI,Pt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],Pt._$92=function(t,e){var r=Math.atan2(t[1],t[0]),i=Math.atan2(e[1],e[0]);return Pt._$tS(r,i)},Pt._$tS=function(t,e){for(var r=t-e;r<-Math.PI;)r+=2*Math.PI;for(;r>Math.PI;)r-=2*Math.PI;return r},Pt._$9=function(t){return Math.sin(t)},Pt.fcos=function(t){return Math.cos(t)},St.prototype._$u2=function(){return this._$IS[0]},St.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},St.prototype._$GT=function(){return this._$e0},Ot._$W2=0,Ot.SYSTEM_INFO=null,Ot.USER_AGENT=navigator.userAgent,Ot.isIPhone=function(){return Ot.SYSTEM_INFO||Ot.setup(),Ot.SYSTEM_INFO._isIPhone},Ot.isIOS=function(){return Ot.SYSTEM_INFO||Ot.setup(),Ot.SYSTEM_INFO._isIPhone||Ot.SYSTEM_INFO._isIPad},Ot.isAndroid=function(){return Ot.SYSTEM_INFO||Ot.setup(),Ot.SYSTEM_INFO._isAndroid},Ot.getOSVersion=function(){return Ot.SYSTEM_INFO||Ot.setup(),Ot.SYSTEM_INFO.version},Ot.getOS=function(){return Ot.SYSTEM_INFO||Ot.setup(),Ot.SYSTEM_INFO._isIPhone||Ot.SYSTEM_INFO._isIPad?"iOS":Ot.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Ot.setup=function(){var t,e=Ot.USER_AGENT;function r(t,e){for(var r=t.substring(e).split(/[ _,;\.]/),i=0,n=0;n<=2&&!isNaN(r[n]);n++){var o=parseInt(r[n]);if(o<0||o>999){a._$li("err : "+o+" @UtHtml5.setup()"),i=0;break}i+=o*Math.pow(1e3,2-n)}return i}var i=Ot.SYSTEM_INFO={userAgent:e};if((t=e.indexOf("iPhone OS "))>=0)i.os="iPhone",i._isIPhone=!0,i.version=r(e,t+"iPhone OS ".length);else if((t=e.indexOf("iPad"))>=0){if((t=e.indexOf("CPU OS"))<0)return void a._$li(" err : "+e+" @UtHtml5.setup()");i.os="iPad",i._isIPad=!0,i.version=r(e,t+"CPU OS ".length)}else(t=e.indexOf("Android"))>=0?(i.os="Android",i._isAndroid=!0,i.version=r(e,t+"Android ".length)):(i.os="-",i.version=-1)},at.init(),r=!1,e.UtSystem=x,e.UtDebug=a,e.LDTransform=dt,e.LDGL=nt,e.Live2D=at,e.Live2DModelWebGL=ft,e.Live2DModelJS=q,e.Live2DMotion=J,e.MotionQueueManager=pt,e.PhysicsHair=h,e.AMotion=s,e.PartsDataID=_,e.DrawDataID=D,e.BaseDataID=mt,e.ParamID=c}).call(e,r(85))},81:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.L2DBaseModel=e.L2DExpressionMotion=e.L2DExpressionParam=e.L2DEyeBlink=e.EYE_STATE=e.L2DMatrix44=e.L2DModelMatrix=e.L2DMotionManager=e.L2DPhysics=e.L2DPartsParam=e.L2DPose=e.L2DViewMatrix=e.Live2DFramework=e.L2DTargetPoint=void 0;var i=r(80);function n(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new h,this.expressionManager=new h,this.motions={},this.expressions={},this.isTexLoaded=!1}var o=0;function s(){i.AMotion.prototype.constructor.call(this),this.paramList=new Array}function a(){this.id="",this.type=-1,this.value=null}function l(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=_.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}n.prototype.getModelMatrix=function(){return this.modelMatrix},n.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},n.prototype.getAlpha=function(){return this.alpha},n.prototype.isInitialized=function(){return this.initialized},n.prototype.setInitialized=function(t){this.initialized=t},n.prototype.isUpdating=function(){return this.updating},n.prototype.setUpdating=function(t){this.updating=t},n.prototype.getLive2DModel=function(){return this.live2DModel},n.prototype.setLipSync=function(t){this.lipSync=t},n.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},n.prototype.setAccel=function(t,e,r){this.accelX=t,this.accelY=e,this.accelZ=r},n.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},n.prototype.getMainMotionManager=function(){return this.mainMotionManager},n.prototype.getExpressionManager=function(){return this.expressionManager},n.prototype.loadModelData=function(t,e){var r=g.getPlatformManager();this.debugMode&&r.log("Load model : "+t);var n=this;r.loadLive2DModel(t,(function(t){n.live2DModel=t,n.live2DModel.saveParam(),0==i.Live2D.getError()?(n.modelMatrix=new u(n.live2DModel.getCanvasWidth(),n.live2DModel.getCanvasHeight()),n.modelMatrix.setWidth(2),n.modelMatrix.setCenterPosition(0,0),e(n.live2DModel)):console.error("Error : Failed to loadModelData().")}))},n.prototype.loadTexture=function(t,e,r){o++;var i=g.getPlatformManager();this.debugMode&&i.log("Load Texture : "+e);var n=this;i.loadTexture(this.live2DModel,t,e,(function(){0==--o&&(n.isTexLoaded=!0),"function"==typeof r&&r()}))},n.prototype.loadMotion=function(t,e,r){var n=g.getPlatformManager();this.debugMode&&n.log("Load Motion : "+e);var o=null,s=this;n.loadBytes(e,(function(e){o=i.Live2DMotion.loadMotion(e),null!=t&&(s.motions[t]=o),r(o)}))},n.prototype.loadExpression=function(t,e,r){var i=g.getPlatformManager();this.debugMode&&i.log("Load Expression : "+e);var n=this;i.loadBytes(e,(function(e){null!=t&&(n.expressions[t]=s.loadJson(e)),"function"==typeof r&&r()}))},n.prototype.loadPose=function(t,e){var r=g.getPlatformManager();this.debugMode&&r.log("Load Pose : "+t);var i=this;try{r.loadBytes(t,(function(t){i.pose=p.load(t),"function"==typeof e&&e()}))}catch(t){console.warn(t)}},n.prototype.loadPhysics=function(t){var e=g.getPlatformManager();this.debugMode&&e.log("Load Physics : "+t);var r=this;try{e.loadBytes(t,(function(t){r.physics=f.load(t)}))}catch(t){console.warn(t)}},n.prototype.hitTestSimple=function(t,e,r){if(null===this.live2DModel)return!1;var i=this.live2DModel.getDrawDataIndex(t);if(i<0)return!1;for(var n=this.live2DModel.getTransformedPoints(i),o=this.live2DModel.getCanvasWidth(),s=0,a=this.live2DModel.getCanvasHeight(),l=0,_=0;_<n.length;_+=2){var c=n[_],u=n[_+1];c<o&&(o=c),c>s&&(s=c),u<a&&(a=u),u>l&&(l=u)}var h=this.modelMatrix.invertTransformX(e),f=this.modelMatrix.invertTransformY(r);return o<=h&&h<=s&&a<=f&&f<=l},s.prototype=new i.AMotion,s.EXPRESSION_DEFAULT="DEFAULT",s.TYPE_SET=0,s.TYPE_ADD=1,s.TYPE_MULT=2,s.loadJson=function(t){var e=new s,r=g.getPlatformManager().jsonParseFromBytes(t);if(e.setFadeIn(parseInt(r.fade_in)>0?parseInt(r.fade_in):1e3),e.setFadeOut(parseInt(r.fade_out)>0?parseInt(r.fade_out):1e3),null==r.params)return e;var i=r.params,n=i.length;e.paramList=[];for(var o=0;o<n;o++){var l=i[o],_=l.id.toString(),c=parseFloat(l.val),u=s.TYPE_ADD,h=null!=l.calc?l.calc.toString():"add";if((u="add"===h?s.TYPE_ADD:"mult"===h?s.TYPE_MULT:"set"===h?s.TYPE_SET:s.TYPE_ADD)==s.TYPE_ADD)c-=f=null==l.def?0:parseFloat(l.def);else if(u==s.TYPE_MULT){var f;0==(f=null==l.def?1:parseFloat(l.def))&&(f=1),c/=f}var p=new a;p.id=_,p.type=u,p.value=c,e.paramList.push(p)}return e},s.prototype.updateParamExe=function(t,e,r,i){for(var n=this.paramList.length-1;n>=0;--n){var o=this.paramList[n];o.type==s.TYPE_ADD?t.addToParamFloat(o.id,o.value,r):o.type==s.TYPE_MULT?t.multParamFloat(o.id,o.value,r):o.type==s.TYPE_SET&&t.setParamFloat(o.id,o.value,r)}},l.prototype.calcNextBlink=function(){return i.UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},l.prototype.setInterval=function(t){this.blinkIntervalMsec=t},l.prototype.setEyeMotion=function(t,e,r){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=r},l.prototype.updateParam=function(t){var e,r=i.UtSystem.getUserTimeMSec(),n=0;switch(this.eyeState){case _.STATE_CLOSING:(n=(r-this.stateStartTime)/this.closingMotionMsec)>=1&&(n=1,this.eyeState=_.STATE_CLOSED,this.stateStartTime=r),e=1-n;break;case _.STATE_CLOSED:(n=(r-this.stateStartTime)/this.closedMotionMsec)>=1&&(this.eyeState=_.STATE_OPENING,this.stateStartTime=r),e=0;break;case _.STATE_OPENING:(n=(r-this.stateStartTime)/this.openingMotionMsec)>=1&&(n=1,this.eyeState=_.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=n;break;case _.STATE_INTERVAL:this.nextBlinkTime<r&&(this.eyeState=_.STATE_CLOSING,this.stateStartTime=r),e=1;break;case _.STATE_FIRST:default:this.eyeState=_.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var _=function(){};function c(){this.tr=new Float32Array(16),this.identity()}function u(t,e){c.prototype.constructor.call(this),this.width=t,this.height=e}function h(){i.MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=i.MotionQueueManager.prototype}function f(){this.physicsList=new Array,this.startTimeMSec=i.UtSystem.getUserTimeMSec()}function p(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function $(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function d(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function m(){c.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null}function g(){}_.STATE_FIRST="STATE_FIRST",_.STATE_INTERVAL="STATE_INTERVAL",_.STATE_CLOSING="STATE_CLOSING",_.STATE_CLOSED="STATE_CLOSED",_.STATE_OPENING="STATE_OPENING",c.mul=function(t,e,r){var i,n,o,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<4;i++)for(n=0;n<4;n++)for(o=0;o<4;o++)s[i+4*n]+=t[i+4*o]*e[o+4*n];for(i=0;i<16;i++)r[i]=s[i]},c.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},c.prototype.getArray=function(){return this.tr},c.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},c.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},c.prototype.getScaleX=function(){return this.tr[0]},c.prototype.getScaleY=function(){return this.tr[5]},c.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},c.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},c.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},c.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},c.prototype.multTranslate=function(t,e){var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];c.mul(r,this.tr,this.tr)},c.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},c.prototype.translateX=function(t){this.tr[12]=t},c.prototype.translateY=function(t){this.tr[13]=t},c.prototype.multScale=function(t,e){var r=[t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1];c.mul(r,this.tr,this.tr)},c.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},u.prototype=new c,u.prototype.setPosition=function(t,e){this.translate(t,e)},u.prototype.setCenterPosition=function(t,e){var r=this.width*this.getScaleX(),i=this.height*this.getScaleY();this.translate(t-r/2,e-i/2)},u.prototype.top=function(t){this.setY(t)},u.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},u.prototype.left=function(t){this.setX(t)},u.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},u.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},u.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},u.prototype.setX=function(t){this.translateX(t)},u.prototype.setY=function(t){this.translateY(t)},u.prototype.setHeight=function(t){var e=t/this.height,r=-e;this.scale(e,r)},u.prototype.setWidth=function(t){var e=t/this.width,r=-e;this.scale(e,r)},h.prototype=new i.MotionQueueManager,h.prototype.getCurrentPriority=function(){return this.currentPriority},h.prototype.getReservePriority=function(){return this.reservePriority},h.prototype.reserveMotion=function(t){return!(this.reservePriority>=t)&&!(this.currentPriority>=t)&&(this.reservePriority=t,!0)},h.prototype.setReservePriority=function(t){this.reservePriority=t},h.prototype.updateParam=function(t){var e=i.MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},h.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},f.load=function(t){for(var e=new f,r=g.getPlatformManager().jsonParseFromBytes(t).physics_hair,n=r.length,o=0;o<n;o++){var s=r[o],a=new i.PhysicsHair,l=s.setup,_=parseFloat(l.length),c=parseFloat(l.regist),u=parseFloat(l.mass);a.setup(_,c,u);for(var h=s.src,p=h.length,$=0;$<p;$++){var d=h[$],m=d.id,y=i.PhysicsHair.Src.SRC_TO_X;"x"===(S=d.ptype)?y=i.PhysicsHair.Src.SRC_TO_X:"y"===S?y=i.PhysicsHair.Src.SRC_TO_Y:"angle"===S?y=i.PhysicsHair.Src.SRC_TO_G_ANGLE:i.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var v=parseFloat(d.scale),b=parseFloat(d.weight);a.addSrcParam(y,m,v,b)}var T=s.targets,P=T.length;for($=0;$<P;$++){var S,O=T[$];m=O.id,y=i.PhysicsHair.Target.TARGET_FROM_ANGLE,"angle"===(S=O.ptype)?y=i.PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===S?y=i.PhysicsHair.Target.TARGET_FROM_ANGLE_V:i.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target"),v=parseFloat(O.scale),b=parseFloat(O.weight),a.addTargetParam(y,m,v,b)}e.physicsList.push(a)}return e},f.prototype.updateParam=function(t){for(var e=i.UtSystem.getUserTimeMSec()-this.startTimeMSec,r=0;r<this.physicsList.length;r++)this.physicsList[r].update(t,e)},p.load=function(t){for(var e=new p,r=g.getPlatformManager().jsonParseFromBytes(t).parts_visible,i=r.length,n=0;n<i;n++){for(var o=r[n].group,s=o.length,a=new Array,l=0;l<s;l++){var _=o[l],c=new $(_.id);if(a[l]=c,null!=_.link){var u=_.link,h=u.length;c.link=new Array;for(var f=0;f<h;f++){var d=new $(u[f]);c.link.push(d)}}}e.partsGroups.push(a)}return e},p.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=i.UtSystem.getUserTimeMSec(),r=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,r<0&&(r=0);for(var n=0;n<this.partsGroups.length;n++)this.normalizePartsOpacityGroup(t,this.partsGroups[n],r),this.copyOpacityOtherParts(t,this.partsGroups[n])}},p.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var r=this.partsGroups[e],i=0;i<r.length;i++){r[i].initIndex(t);var n=r[i].partsIndex,o=r[i].paramIndex;if(!(n<0)){var s=0!=t.getParamFloat(o);if(t.setPartsOpacity(n,s?1:0),t.setParamFloat(o,s?1:0),null!=r[i].link)for(var a=0;a<r[i].link.length;a++)r[i].link[a].initIndex(t)}}},p.prototype.normalizePartsOpacityGroup=function(t,e,r){for(var i=-1,n=1,o=0;o<e.length;o++){var s=e[o].partsIndex,a=e[o].paramIndex;if(!(s<0)&&0!=t.getParamFloat(a)){if(i>=0)break;i=o,n=t.getPartsOpacity(s),(n+=r/.5)>1&&(n=1)}}for(i<0&&(i=0,n=1),o=0;o<e.length;o++)if(!((s=e[o].partsIndex)<0))if(i==o)t.setPartsOpacity(s,n);else{var l,_=t.getPartsOpacity(s);(1-(l=n<.5?-.5*n/.5+1:.5*(1-n)/.5))*(1-n)>.15&&(l=1-.15/(1-n)),_>l&&(_=l),t.setPartsOpacity(s,_)}},p.prototype.copyOpacityOtherParts=function(t,e){for(var r=0;r<e.length;r++){var i=e[r];if(null!=i.link&&!(i.partsIndex<0))for(var n=t.getPartsOpacity(i.partsIndex),o=0;o<i.link.length;o++){var s=i.link[o];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,n)}}},$.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(i.PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},d.FRAME_RATE=60,d.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},d.prototype.getX=function(){return this.faceX},d.prototype.getY=function(){return this.faceY},d.prototype.update=function(){var t=40/7.5/d.FRAME_RATE;if(0!=this.lastTimeSec){var e=i.UtSystem.getUserTimeMSec(),r=(e-this.lastTimeSec)*d.FRAME_RATE/1e3;this.lastTimeSec=e;var n=r*t/(.15*d.FRAME_RATE),o=this.faceTargetX-this.faceX,s=this.faceTargetY-this.faceY;if(!(Math.abs(o)<=this.EPSILON&&Math.abs(s)<=this.EPSILON)){var a=Math.sqrt(o*o+s*s),l=t*s/a,_=t*o/a-this.faceVX,c=l-this.faceVY,u=Math.sqrt(_*_+c*c);(u<-n||u>n)&&(_*=n/u,c*=n/u,u=n),this.faceVX+=_,this.faceVY+=c;var h=.5*(Math.sqrt(n*n+16*n*a-8*n*a)-n),f=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);f>h&&(this.faceVX*=h/f,this.faceVY*=h/f),this.faceX+=this.faceVX,this.faceY+=this.faceVY}}else this.lastTimeSec=i.UtSystem.getUserTimeMSec()},m.prototype=new c,m.prototype.adjustTranslate=function(t,e){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+e)<this.screenTop&&(e=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+e)>this.screenBottom&&(e=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var r=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];c.mul(r,this.tr,this.tr)},m.prototype.adjustScale=function(t,e,r){this.tr[0];var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],n=[r,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1],o=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1];c.mul(o,this.tr,this.tr),c.mul(n,this.tr,this.tr),c.mul(i,this.tr,this.tr)},m.prototype.setScreenRect=function(t,e,r,i){this.screenLeft=t,this.screenRight=e,this.screenTop=i,this.screenBottom=r},m.prototype.setMaxScreenRect=function(t,e,r,i){this.maxLeft=t,this.maxRight=e,this.maxTop=i,this.maxBottom=r},m.prototype.getScreenLeft=function(){return this.screenLeft},m.prototype.getScreenRight=function(){return this.screenRight},m.prototype.getScreenBottom=function(){return this.screenBottom},m.prototype.getScreenTop=function(){return this.screenTop},m.prototype.getMaxLeft=function(){return this.maxLeft},m.prototype.getMaxRight=function(){return this.maxRight},m.prototype.getMaxBottom=function(){return this.maxBottom},m.prototype.getMaxTop=function(){return this.maxTop},g.platformManager=null,g.getPlatformManager=function(){return g.platformManager},g.setPlatformManager=function(t){g.platformManager=t},e.L2DTargetPoint=d,e.Live2DFramework=g,e.L2DViewMatrix=m,e.L2DPose=p,e.L2DPartsParam=$,e.L2DPhysics=f,e.L2DMotionManager=h,e.L2DModelMatrix=u,e.L2DMatrix44=c,e.EYE_STATE=_,e.L2DEyeBlink=l,e.L2DExpressionParam=a,e.L2DExpressionMotion=s,e.L2DBaseModel=n},82:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cDefine={VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_NORMAL:2,PRIORITY_FORCE:3,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"}},83:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.currCanvas=e.currWebGL=e.createElement=void 0;var i=r(26),n=r(27),o=r(40),s=void 0,a=void 0;e.createElement=function(){var t=document.getElementById(i.config.name.div);null!==t&&document.body.removeChild(t);var r=document.createElement("div");r.id=i.config.name.div,r.className="live2d-widget-container",r.style.setProperty("position","fixed"),r.style.setProperty(i.config.display.position,i.config.display.hOffset+"px"),r.style.setProperty("bottom",i.config.display.vOffset+"px"),r.style.setProperty("width",i.config.display.width+"px"),r.style.setProperty("height",i.config.display.height+"px"),r.style.setProperty("z-index",99999),r.style.setProperty("opacity",i.config.react.opacity),r.style.setProperty("pointer-events","none"),document.body.appendChild(r),n.L2Dwidget.emit("create-container",r),i.config.dialog.enable&&(0,o.createDialogElement)(r);var l=document.createElement("canvas");l.setAttribute("id",i.config.name.canvas),l.setAttribute("width",i.config.display.width*i.config.display.superSample),l.setAttribute("height",i.config.display.height*i.config.display.superSample),l.style.setProperty("position","absolute"),l.style.setProperty("left","0px"),l.style.setProperty("top","0px"),l.style.setProperty("width",i.config.display.width+"px"),l.style.setProperty("height",i.config.display.height+"px"),i.config.dev.border&&l.style.setProperty("border","dashed 1px #CCC"),r.appendChild(l),e.currCanvas=a=document.getElementById(i.config.name.canvas),n.L2Dwidget.emit("create-canvas",l),function(){for(var t=["webgl2","webgl","experimental-webgl2","experimental-webgl","webkit-3d","moz-webgl"],r=0;r<t.length;r++)try{var i=a.getContext(t[r],{alpha:!0,antialias:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!1});i&&(e.currWebGL=s=i)}catch(t){}s||(console.error("Live2D widgets: Failed to create WebGL context."),window.WebGLRenderingContext||console.error("Your browser may not support WebGL, check https://get.webgl.org/ for futher information."))}()},e.currWebGL=s,e.currCanvas=a},84:function(t,e,r){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.MatrixStack=i,i.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.depth=0,i.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.tmp=new Array(16),i.reset=function(){this.depth=0},i.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},i.push=function(){var t=16*(this.depth+1);this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var e=0;e<16;e++)this.matrixStack[t+e]=this.currentMatrix[e];this.depth++},i.pop=function(){this.depth--,this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,e=0;e<16;e++)this.currentMatrix[e]=this.matrixStack[t+e]},i.getMatrix=function(){return this.currentMatrix},i.multMatrix=function(t){var e,r,i;for(e=0;e<16;e++)this.tmp[e]=0;for(e=0;e<4;e++)for(r=0;r<4;r++)for(i=0;i<4;i++)this.tmp[e+4*r]+=this.currentMatrix[e+4*i]*t[i+4*r];for(e=0;e<16;e++)this.currentMatrix[e]=this.tmp[e]}},85:function(t,e){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},86:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cManager=void 0;var i=r(81),n=r(87),o=r(88),s=r(82);function a(t){this.eventemitter=t,this.models=[],this.count=-1,this.reloadFlg=!1,i.Live2DFramework.setPlatformManager(new n.PlatformManager)}a.prototype.createModel=function(){var t=new o.cModel;return this.models.push(t),t},a.prototype.changeModel=function(t,e){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,t),this.createModel(),this.models[0].load(t,e))},a.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},a.prototype.releaseModel=function(t,e){this.models.length<=t||(this.models[t].release(e),delete this.models[t],this.models.splice(t,1))},a.prototype.numModels=function(){return this.models.length},a.prototype.setDrag=function(t,e){for(var r=0;r<this.models.length;r++)this.models[r].setDrag(t,e)},a.prototype.tapEvent=function(t,e){s.cDefine.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+e);for(var r=0;r<this.models.length;r++)this.models[r].hitTest(s.cDefine.HIT_AREA_HEAD,t,e)?(this.eventemitter.emit("tapface"),s.cDefine.DEBUG_LOG&&console.log("Tap face."),this.models[r].setRandomExpression()):this.models[r].hitTest(s.cDefine.HIT_AREA_BODY,t,e)&&(this.eventemitter.emit("tapbody"),s.cDefine.DEBUG_LOG&&console.log("Tap body. models["+r+"]"),this.models[r].startRandomMotion(s.cDefine.MOTION_GROUP_TAP_BODY,s.cDefine.PRIORITY_NORMAL));return!0},e.cManager=a},87:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformManager=o;var i=r(83),n=r(80);function o(){}o.prototype.loadBytes=function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){switch(r.status){case 200:e(r.response);break;default:console.error("Failed to load ("+r.status+") : "+t)}},r.send(null)},o.prototype.loadString=function(t){this.loadBytes(t,(function(t){return t}))},o.prototype.loadLive2DModel=function(t,e){var r=null;this.loadBytes(t,(function(t){r=n.Live2DModelWebGL.loadModel(t),e(r)}))},o.prototype.loadTexture=function(t,e,r,n){var o=new Image;o.crossOrigin="Anonymous",o.src=r,o.onload=onload,o.onerror=onerror,o.onload=function(){var r=i.currWebGL,s=r.createTexture();if(!s)return console.error("Failed to generate gl texture name."),-1;t.isPremultipliedAlpha()||r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.generateMipmap(r.TEXTURE_2D),t.setTexture(e,s),s=null,"function"==typeof n&&n()},o.onerror=function(){console.error("Failed to load image : "+r)}},o.prototype.jsonParseFromBytes=function(t){var e,r=new Uint8Array(t,0,3);return e=239==r[0]&&187==r[1]&&191==r[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(e)},o.prototype.log=function(t){console.log(t)}},88:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cModel=l;var i=r(81),n=r(89),o=r(84),s=r(82),a=r(80);function l(){i.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}l.prototype=new i.L2DBaseModel,l.prototype.load=function(t,e,r){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=e.substring(0,e.lastIndexOf("/")+1),this.modelSetting=new n.ModelSettingJson;var o=this;this.modelSetting.loadModelSetting(e,(function(){var t=o.modelHomeDir+o.modelSetting.getModelFile();o.loadModelData(t,(function(t){for(var e=0;e<o.modelSetting.getTextureNum();e++){if(/^https?:\/\/|^\/\//i.test(o.modelSetting.getTextureFile(e)))var n=o.modelSetting.getTextureFile(e);else n=o.modelHomeDir+o.modelSetting.getTextureFile(e);o.loadTexture(e,n,(function(){if(o.isTexLoaded){if(o.modelSetting.getExpressionNum()>0){o.expressions={};for(var t=0;t<o.modelSetting.getExpressionNum();t++){var e=o.modelSetting.getExpressionName(t),n=o.modelHomeDir+o.modelSetting.getExpressionFile(t);o.loadExpression(e,n)}}else o.expressionManager=null,o.expressions={};if(null==o.eyeBlink&&(o.eyeBlink=new i.L2DEyeBlink),null!=o.modelSetting.getPhysicsFile()?o.loadPhysics(o.modelHomeDir+o.modelSetting.getPhysicsFile()):o.physics=null,null!=o.modelSetting.getPoseFile()?o.loadPose(o.modelHomeDir+o.modelSetting.getPoseFile(),(function(){o.pose.updateParam(o.live2DModel)})):o.pose=null,null!=o.modelSetting.getLayout()){var a=o.modelSetting.getLayout();null!=a.width&&o.modelMatrix.setWidth(a.width),null!=a.height&&o.modelMatrix.setHeight(a.height),null!=a.x&&o.modelMatrix.setX(a.x),null!=a.y&&o.modelMatrix.setY(a.y),null!=a.center_x&&o.modelMatrix.centerX(a.center_x),null!=a.center_y&&o.modelMatrix.centerY(a.center_y),null!=a.top&&o.modelMatrix.top(a.top),null!=a.bottom&&o.modelMatrix.bottom(a.bottom),null!=a.left&&o.modelMatrix.left(a.left),null!=a.right&&o.modelMatrix.right(a.right)}for(t=0;t<o.modelSetting.getInitParamNum();t++)o.live2DModel.setParamFloat(o.modelSetting.getInitParamID(t),o.modelSetting.getInitParamValue(t));for(t=0;t<o.modelSetting.getInitPartsVisibleNum();t++)o.live2DModel.setPartsOpacity(o.modelSetting.getInitPartsVisibleID(t),o.modelSetting.getInitPartsVisibleValue(t));o.live2DModel.saveParam(),o.preloadMotionGroup(s.cDefine.MOTION_GROUP_IDLE),o.mainMotionManager.stopAllMotions(),o.setUpdating(!1),o.setInitialized(!0),"function"==typeof r&&r()}}))}}))}))},l.prototype.release=function(t){var e=i.Live2DFramework.getPlatformManager();t.deleteTexture(e.texture)},l.prototype.preloadMotionGroup=function(t){for(var e=this,r=0;r<this.modelSetting.getMotionNum(t);r++){var i=this.modelSetting.getMotionFile(t,r);this.loadMotion(i,this.modelHomeDir+i,(function(i){i.setFadeIn(e.modelSetting.getMotionFadeIn(t,r)),i.setFadeOut(e.modelSetting.getMotionFadeOut(t,r))}))}},l.prototype.update=function(){if(null!=this.live2DModel){var t=(a.UtSystem.getUserTimeMSec()-this.startTimeMSec)/1e3*2*Math.PI;this.mainMotionManager.isFinished()&&this.startRandomMotion(s.cDefine.MOTION_GROUP_IDLE,s.cDefine.PRIORITY_IDLE),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(t/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(t/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(t/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(t/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(t/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()}else s.cDefine.DEBUG_LOG&&console.error("Failed to update.")},l.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var r=parseInt(Math.random()*t.length);this.setExpression(t[r])},l.prototype.startRandomMotion=function(t,e){var r=this.modelSetting.getMotionNum(t),i=parseInt(Math.random()*r);this.startMotion(t,i,e)},l.prototype.startMotion=function(t,e,r){var i=this.modelSetting.getMotionFile(t,e);if(null!=i&&""!=i){if(r==s.cDefine.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(r);else if(!this.mainMotionManager.reserveMotion(r))return void(s.cDefine.DEBUG_LOG&&console.log("Motion is running."));var n,o=this;null==this.motions[t]?this.loadMotion(t,this.modelHomeDir+i,(function(i){n=i,o.setFadeInFadeOut(t,e,r,n)})):(n=this.motions[t],o.setFadeInFadeOut(t,e,r,n))}else s.cDefine.DEBUG_LOG&&console.error("Failed to motion.")},l.prototype.setFadeInFadeOut=function(t,e,r,i){var n=this.modelSetting.getMotionFile(t,e);if(i.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),i.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),s.cDefine.DEBUG_LOG&&console.log("Start motion : "+n),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(i,r);else{var o=this.modelSetting.getMotionSound(t,e),a=document.createElement("audio");a.src=this.modelHomeDir+o,s.cDefine.DEBUG_LOG&&console.log("Start sound : "+o),a.play(),this.mainMotionManager.startMotionPrio(i,r)}},l.prototype.setExpression=function(t){var e=this.expressions[t];s.cDefine.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},l.prototype.draw=function(t){o.MatrixStack.push(),o.MatrixStack.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=o.MatrixStack.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),o.MatrixStack.pop()},l.prototype.hitTest=function(t,e,r){for(var i=this.modelSetting.getHitAreaNum(),n=0;n<i;n++)if(t==this.modelSetting.getHitAreaName(n)){var o=this.modelSetting.getHitAreaID(n);return this.hitTestSimple(o,e,r)}return!1}},89:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSettingJson=n;var i=r(81);function n(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}n.prototype.loadModelSetting=function(t,e){var r=this;i.Live2DFramework.getPlatformManager().loadBytes(t,(function(t){var i=String.fromCharCode.apply(null,new Uint8Array(t));r.json=JSON.parse(i),e()}))},n.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},n.prototype.getModelFile=function(){return this.json[this.MODEL]},n.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},n.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},n.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},n.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},n.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},n.prototype.getPoseFile=function(){return this.json[this.POSE]},n.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},n.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},n.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},n.prototype.getLayout=function(){return this.json[this.LAYOUT]},n.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},n.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},n.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},n.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},n.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},n.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},n.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},n.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},n.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},n.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},n.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}}})},a70a:function(t,e,r){"use strict";r("4e88")},a7fc:function(t,e,r){"use strict";r("291a")},adff:function(t,e,r){},b034:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAbVJREFUaEPtmrFKBDEQhr+rbGx9ARsFtbQSRBt7EWzs1UfQzk7fQLS2sBAEfQCvEV9ARZ/Bh1B+STB4i5fs3u4m5wQOjruZZP6df5LZyQz4GRfAGrAU/NbF1xfgETios9jAKX3WUW5Bx9sTPbUUToGjQGMYrT0ZwY1gmjPgOGVaAXgDFpzSJtAHgAe3/juwmArA00eGC0AfQwC8J5JoJGEDMAGXmQf0EC0GGlDJKGQUakAfqZ4Dh4DyouWUuXI5B2Tzifuk2E9OAJIM98IGoNZji1OaBe6BD0et1yq1nD2g5M5nqQruXWAERM4A5IGnYFeqBJEzADFmHrgGVh19RkDkDkB2zwE3wHoViBIAyO4Z4A7Y+g2iTQA6mGJHVVGhquCwAuyEINoC8NxReWZoAP7gSAqFYqmmRK8TCsUaFCvXSxDHGjdOruhttOiDrPhUYiqSuaLT6XHB/f1/WwdZ1OKTEMoJQNEv9VfAXp3yZi4esNKi4smq0w12FaOQUagBfaT6vykUvoD3fdFd635ATR77AQX6uKn3y1+mNn1MRbOHR6+mj+2gb6JhXEarqz/iNrXJw8/+BVYFqgPUt/k0AAAAAElFTkSuQmCC"},cf05:function(t,e,r){t.exports=r.p+"img/logo.e60cf45b.png"},ed9d:function(t,e,r){"use strict";r("41b9")},eed4:function(t,e,r){}});
//# sourceMappingURL=app.3a721291.js.map